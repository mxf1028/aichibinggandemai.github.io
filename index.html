<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä½œä¸ºå‰è¾ˆçš„åŸ‹ï¼Œè¢«åè¾ˆä¼Šæš—æ‹ä¸Šäº†ï¼ï¼Ÿï¼ï¼Ÿ | äº§å“ä»‹ç»</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background-color: #fef7f9;
            color: #333;
            line-height: 1.6;
            background-image: linear-gradient(to bottom, #fff5f7, #fef0f3 100px, #fef7f9 400px);
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        header {
            background-color: rgba(255, 255, 255, 0.95);
            box-shadow: 0 2px 15px rgba(232, 106, 146, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
            padding: 15px 0;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #e86a92;
            font-weight: 700;
            font-size: 1.8rem;
        }
        
        .logo i {
            font-size: 2.2rem;
        }
        
        nav ul {
            display: flex;
            list-style: none;
            gap: 30px;
            align-items: center;
        }
        
        nav a {
            text-decoration: none;
            color: #555;
            font-weight: 600;
            font-size: 1.1rem;
            transition: color 0.3s;
            padding: 5px 0;
            position: relative;
        }
        
        nav a:hover {
            color: #e86a92;
        }
        
        nav a.active {
            color: #e86a92;
            font-weight: 700;
        }
        
        nav a.active:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: #e86a92;
        }
        
        nav a:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background-color: #e86a92;
            transition: width 0.3s;
        }
        
        nav a:hover:after {
            width: 100%;
        }
        
        .hero {
            padding: 80px 0 60px;
            text-align: center;
            background-image: linear-gradient(rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.9)), url('https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80');
            background-size: cover;
            background-position: center;
            border-radius: 0 0 30px 30px;
            margin-bottom: 60px;
        }
        
        .hero h1 {
            font-size: 3.2rem;
            color: #e86a92;
            margin-bottom: 20px;
            text-shadow: 1px 1px 3px rgba(255, 255, 255, 0.8);
            line-height: 1.2;
        }
        
        .hero p {
            font-size: 1.4rem;
            color: #666;
            max-width: 800px;
            margin: 0 auto 30px;
        }
        
        .cta-button {
            display: inline-block;
            background: linear-gradient(to right, #e86a92, #ff8fab);
            color: white;
            padding: 15px 35px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: bold;
            font-size: 1.2rem;
            box-shadow: 0 5px 15px rgba(232, 106, 146, 0.3);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(232, 106, 146, 0.4);
        }
        
        /* åˆ†é¡µæ ·å¼ */
        .pagination-container {
            margin-bottom: 60px;
            background-color: white;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
        }
        
        .pagination-tabs {
            display: flex;
            border-bottom: 2px solid #f0f0f0;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .tab-btn {
            padding: 15px 30px;
            background: none;
            border: none;
            font-size: 1.1rem;
            font-weight: 600;
            color: #666;
            cursor: pointer;
            position: relative;
            transition: color 0.3s;
        }
        
        .tab-btn:hover {
            color: #e86a92;
        }
        
        .tab-btn.active {
            color: #e86a92;
        }
        
        .tab-btn.active:after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: #e86a92;
            border-radius: 3px 3px 0 0;
        }
        
        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .tab-content.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .page-title {
            font-size: 2.5rem;
            color: #e86a92;
            margin-bottom: 25px;
            text-align: center;
            position: relative;
            padding-bottom: 15px;
        }
        
        .page-title:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background-color: #ffb5cc;
            border-radius: 2px;
        }
        
        /* ç¬¬ä¸€é¡µ - æ•…äº‹ç®€ä»‹ */
        .story-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            align-items: center;
        }
        
        .story-image {
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }
        
        .story-image img {
            width: 100%;
            height: auto;
            display: block;
            transition: transform 0.5s;
        }
        
        .story-image:hover img {
            transform: scale(1.05);
        }
        
        .story-text p {
            margin-bottom: 20px;
            font-size: 1.1rem;
            color: #555;
        }
        
        .features {
            margin: 25px 0;
        }
        
        .features li {
            margin-bottom: 12px;
            list-style: none;
            padding-left: 30px;
            position: relative;
        }
        
        .features li:before {
            content: 'â¤ï¸';
            position: absolute;
            left: 0;
            top: 0;
        }
        
        /* ç¬¬äºŒé¡µ - è§’è‰²ä»‹ç» */
        .characters-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
        }
        
        .character-card {
            background-color: #fff9fb;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 20px rgba(232, 106, 146, 0.1);
            transition: transform 0.3s;
        }
        
        .character-card:hover {
            transform: translateY(-10px);
        }
        
        .character-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .character-icon {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background-color: #ffe4ec;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 20px;
            font-size: 2rem;
            color: #e86a92;
        }
        
        .character-name {
            font-size: 1.8rem;
            color: #e86a92;
        }
        
        .character-role {
            color: #ff8fab;
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        .character-desc {
            color: #666;
            font-size: 1.05rem;
        }
        
        /* ç¬¬ä¸‰é¡µ - å›¾ç‰‡åº“ */
        .gallery-container {
            margin-top: 30px;
        }
        
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
        }
        
        .gallery-item {
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            background-color: white;
            height: 250px;
            position: relative;
        }
        
        .gallery-item:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }
        
        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }
        
        .gallery-item:hover img {
            transform: scale(1.05);
        }
        
        .gallery-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
            color: white;
            padding: 15px;
            transform: translateY(100%);
            transition: transform 0.3s;
        }
        
        .gallery-item:hover .gallery-caption {
            transform: translateY(0);
        }
        
        .gallery-caption h4 {
            font-size: 1.2rem;
            margin-bottom: 5px;
        }
        
        /* ç¬¬å››é¡µ - è§†é¢‘å†…å®¹ */
        .video-container {
            margin-top: 30px;
        }
        
        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 30px;
        }
        
        .video-item {
            background-color: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }
        
        .video-item:hover {
            transform: translateY(-10px);
        }
        
        .video-placeholder {
            width: 100%;
            height: 200px;
            background-color: #333;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 4rem;
            position: relative;
        }
        
        .video-placeholder:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, #e86a92, #ff8fab);
            opacity: 0.7;
        }
        
        .video-placeholder i {
            position: relative;
            z-index: 2;
        }
        
        .video-info {
            padding: 20px;
        }
        
        .video-info h4 {
            font-size: 1.3rem;
            color: #e86a92;
            margin-bottom: 10px;
        }
        
        .video-info p {
            color: #666;
            margin-bottom: 15px;
        }
        
        .video-duration {
            display: inline-block;
            background-color: #ffe4ec;
            color: #e86a92;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        /* ç¬¬äº”é¡µ - äº’åŠ¨ */
        .interactive-content {
            text-align: center;
            padding: 40px 0;
        }
        
        .heart-counter {
            background-color: #fff9fb;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
            max-width: 600px;
            margin: 0 auto;
        }
        
        .heart-counter h3 {
            font-size: 1.8rem;
            color: #e86a92;
            margin-bottom: 20px;
        }
        
        #heart-display {
            font-size: 3rem;
            color: #e86a92;
            margin: 20px 0;
        }
        
        #heart-button {
            background-color: #ff8fab;
            border: none;
            color: white;
            padding: 15px 40px;
            border-radius: 50px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-top: 15px;
        }
        
        #heart-button:hover {
            background-color: #e86a92;
        }
        
        /* ç¬¬å…­é¡µï¼šæ–‡ç« ä¸“æ æ ·å¼ */
        .article-columns-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .article-column {
            background: #fff9fb;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(232, 106, 146, 0.1);
            border-top: 4px solid #e86a92;
            min-height: 400px;
        }

        .article-column h3 {
            color: #e86a92;
            margin-bottom: 20px;
            font-size: 1.8rem;
            border-bottom: 2px dashed #ffe4ec;
            padding-bottom: 10px;
        }

        .article-column .text-content {
            line-height: 1.8;
            color: #555;
            font-size: 1.1rem;
        }

        /* å›¾ç‰‡æ’å…¥ç‚¹æ ·å¼ */
        .img-insert-point {
            display: inline-block;
            background-color: #ffe4ec;
            color: #e86a92;
            padding: 8px 15px;
            margin: 10px 5px;
            border-radius: 20px;
            border: 1px dashed #ff8fab;
            cursor: pointer;
            font-size: 1em;
        }
        .img-insert-point:hover {
            background-color: #ffd4e4;
        }

        /* å›¾ç‰‡å¼¹çª— (æ¨¡æ€æ¡†) */
        .img-modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.9);
        }
        .img-modal-content {
            margin: 5% auto;
            display: block;
            max-width: 80%;
            max-height: 80%;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(232, 106, 146, 0.5);
        }
        .close-modal {
            position: absolute;
            top: 20px;
            right: 35px;
            color: white;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
            z-index: 2001;
        }
        #modal-title {
            color: white;
            text-align: center;
            padding: 10px;
            font-size: 1.2em;
        }

        /* æ”¹è¿›çš„è¥¿ç“œäº’åŠ¨æ ·å¼ */
        .watermelon-interactive {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            background: #f8f0f3;
            border-radius: 15px;
        }
        .watermelon {
            display: inline-block;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .watermelon:hover {
            transform: scale(1.05);
        }
        .watermelon-body {
            position: relative;
            width: 120px;
            height: 80px;
            background: #ff4757;
            border-radius: 50px 50px 50px 50px / 30px 30px 30px 30px;
            overflow: hidden;
        }
        .watermelon .rind {
            position: absolute;
            top: 0;
            width: 100%;
            height: 15px;
            background: #2ed573;
        }
        .watermelon .flesh {
            position: absolute;
            top: 15px;
            width: 100%;
            height: 65px;
            background: #ff6b81;
        }
        .watermelon .seed {
            position: absolute;
            width: 6px;
            height: 8px;
            background: #2f3542;
            border-radius: 50%;
        }
        .watermelon .seed:nth-child(1) { top: 25px; left: 30px; }
        .watermelon .seed:nth-child(2) { top: 40px; left: 60px; }
        .watermelon .seed:nth-child(3) { top: 55px; left: 90px; }
        
        .watermelon-stage {
            margin-top: 15px;
            padding: 10px;
            background: #ffe4ec;
            border-radius: 10px;
            color: #e86a92;
            font-weight: 600;
            font-size: 1.1rem;
        }

        /* åŒ¿åæé—®åŒºæ ·å¼ - å¼€å‘è€…æ¨¡å¼ä¸‹å¯ç¼–è¾‘/åˆ é™¤ */
        .qna-container .new-question {
            margin-bottom: 30px;
        }
        #new-question-text {
            width: 100%;
            height: 100px;
            padding: 15px;
            border: 2px solid #ffe4ec;
            border-radius: 10px;
            font-family: inherit;
            resize: vertical;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        #submit-question {
            background: linear-gradient(to right, #e86a92, #ff8fab);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.1rem;
        }
        #submit-question:hover {
            opacity: 0.9;
        }
        .single-question {
            background: white;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 10px;
            border-left: 4px solid #ff8fab;
            position: relative;
        }
        .question-header {
            display: flex;
            justify-content: space-between;
            font-size: 1em;
            color: #888;
            margin-bottom: 10px;
        }
        .questioner {
            font-weight: bold;
            color: #e86a92;
            font-size: 1.1rem;
        }
        .question-content {
            margin-bottom: 15px;
            font-size: 1.1rem;
            line-height: 1.6;
        }
        .question-actions {
            display: flex;
            gap: 20px;
        }
        .like-btn, .comment-btn {
            color: #888;
            cursor: pointer;
            font-size: 1.05rem;
        }
        .like-btn.liked {
            color: #e86a92;
        }
        .delete-comment-btn, .edit-comment-btn {
            color: #ff6b81;
            cursor: pointer;
            font-size: 0.9em;
            margin-left: 10px;
        }
        .delete-question-btn {
            color: #ff4757;
            cursor: pointer;
            font-size: 0.9em;
            margin-left: 10px;
        }
        .comments-section {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px dashed #eee;
            font-size: 1em;
        }
        .single-comment {
            padding: 8px 0;
            border-bottom: 1px solid #f5f5f5;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .new-comment input {
            width: calc(100% - 70px);
            padding: 8px;
            border: 1px solid #ffe4ec;
            border-radius: 5px;
            margin-top: 8px;
            font-size: 1rem;
        }
        .new-comment button {
            background: #ffe4ec;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            margin-left: 5px;
            cursor: pointer;
            font-size: 1rem;
        }

        /* åŸ‹ä¼ŠCPå®˜æ–‡æ ·å¼ - ä¸å…¶ä»–æ–‡ç« ä¸“æ ä¸€è‡´ */
        .locked-column {
            grid-column: 1 / -1; /* è®©CPå®˜æ–‡å æ®æ•´è¡Œ */
            background: #fff9fb; /* ä¸å…¶ä»–ä¸“æ ä¸€è‡´çš„èƒŒæ™¯è‰² */
            padding: 30px !important; /* ä¸å…¶ä»–ä¸“æ ä¸€è‡´çš„å†…è¾¹è· */
            border-top: 4px solid #e86a92 !important; /* ä¸å…¶ä»–ä¸“æ ä¸€è‡´çš„è¾¹æ¡† */
            min-height: 400px; /* ä¸å…¶ä»–ä¸“æ ä¸€è‡´çš„æœ€å°é«˜åº¦ */
        }
        
        .locked-column .password-prompt {
            text-align: center;
            padding: 30px;
        }
        
        #fanfic-password {
            padding: 15px 20px;
            border: 2px solid #ffe4ec; /* ä¸å…¶ä»–è¾“å…¥æ¡†ä¸€è‡´çš„è¾¹æ¡† */
            border-radius: 10px;
            width: 300px; /* é€‚å½“è°ƒæ•´å®½åº¦ */
            font-size: 1.1rem; /* ä¸å…¶ä»–è¾“å…¥æ¡†ä¸€è‡´çš„å­—ä½“å¤§å° */
            margin-right: 15px;
            transition: all 0.3s;
        }
        
        #fanfic-password:focus {
            outline: none;
            border-color: #e86a92;
            box-shadow: 0 0 10px rgba(232, 106, 146, 0.3);
        }
        
        #unlock-fanfic {
            background: linear-gradient(to right, #e86a92, #ff8fab);
            color: white;
            border: none;
            padding: 12px 30px; /* ä¸å…¶ä»–æŒ‰é’®ä¸€è‡´çš„padding */
            border-radius: 25px; /* ä¸å…¶ä»–æŒ‰é’®ä¸€è‡´çš„åœ†è§’ */
            cursor: pointer;
            font-size: 1.1rem; /* ä¸å…¶ä»–æŒ‰é’®ä¸€è‡´çš„å­—ä½“å¤§å° */
            font-weight: bold;
            transition: transform 0.3s;
        }
        
        #unlock-fanfic:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(232, 106, 146, 0.4);
        }
        
        #password-hint {
            margin-top: 15px;
            font-size: 1.1rem;
            color: #ff4757;
        }
        
        .fanfic-content {
            margin-top: 30px;
            font-size: 1.1rem; /* ä¸å…¶ä»–ä¸“æ ä¸€è‡´çš„å­—ä½“å¤§å° */
            line-height: 1.8; /* ä¸å…¶ä»–ä¸“æ ä¸€è‡´çš„è¡Œé«˜ */
            color: #555; /* ä¸å…¶ä»–ä¸“æ ä¸€è‡´çš„é¢œè‰² */
            background: transparent; /* ç§»é™¤èƒŒæ™¯ */
            padding: 0; /* ç§»é™¤å†…è¾¹è· */
            border-radius: 0; /* ç§»é™¤åœ†è§’ */
            box-shadow: none; /* ç§»é™¤é˜´å½± */
        }
        
        .fanfic-content p {
            margin-bottom: 20px; /* ä¸å…¶ä»–æ®µè½ä¸€è‡´çš„é—´è· */
        }
        
        .fanfic-content h4 {
            color: #e86a92;
            margin: 25px 0 15px; /* ä¸å…¶ä»–æ ‡é¢˜ä¸€è‡´çš„é—´è· */
            font-size: 1.5rem; /* ä¸å…¶ä»–æ ‡é¢˜ä¸€è‡´çš„å­—ä½“å¤§å° */
        }
        
        /* åŸ‹ä¼ŠCPæŠ•ç¨¿ä¸“æ æ ·å¼ - ä¸å…¶ä»–æ–‡ç« ä¸“æ ä¸€è‡´ */
        .submission-column {
            background: #fff9fb; /* ä¸å…¶ä»–ä¸“æ ä¸€è‡´çš„èƒŒæ™¯è‰² */
            padding: 30px !important; /* ä¸å…¶ä»–ä¸“æ ä¸€è‡´çš„å†…è¾¹è· */
            border-top: 4px solid #ff6b81 !important; /* ä¿æŒç‰¹æ®Šé¢œè‰²ä½†ä¸å…¶ä»–ä¸“æ ä¸€è‡´çš„è¾¹æ¡†åšåº¦ */
            min-height: 400px; /* ä¸å…¶ä»–ä¸“æ ä¸€è‡´çš„æœ€å°é«˜åº¦ */
        }
        
        .submission-column h3 {
            color: #ff6b81; /* ä¿æŒç‰¹æ®Šé¢œè‰² */
            font-size: 1.8rem; /* ä¸å…¶ä»–ä¸“æ æ ‡é¢˜ä¸€è‡´çš„å­—ä½“å¤§å° */
            margin-bottom: 20px; /* ä¸å…¶ä»–ä¸“æ æ ‡é¢˜ä¸€è‡´çš„è¾¹è· */
        }
        
        .submission-info {
            background: transparent; /* ç§»é™¤ç™½è‰²èƒŒæ™¯ */
            padding: 0; /* ç§»é™¤å†…è¾¹è· */
            border-radius: 0; /* ç§»é™¤åœ†è§’ */
            box-shadow: none; /* ç§»é™¤é˜´å½± */
            margin-bottom: 20px; /* è°ƒæ•´è¾¹è· */
        }
        
        .submission-info p {
            font-size: 1.1rem; /* ä¸å…¶ä»–ä¸“æ ä¸€è‡´çš„å­—ä½“å¤§å° */
            margin-bottom: 15px; /* ä¸å…¶ä»–æ®µè½ä¸€è‡´çš„è¾¹è· */
            line-height: 1.8; /* ä¸å…¶ä»–æ®µè½ä¸€è‡´çš„è¡Œé«˜ */
        }
        
        .email-address {
            display: inline-block;
            background: #ffe4ec;
            padding: 10px 20px; /* è°ƒæ•´å†…è¾¹è· */
            border-radius: 20px; /* è°ƒæ•´åœ†è§’ */
            font-size: 1.1rem; /* ä¸å…¶ä»–æ–‡æœ¬ä¸€è‡´çš„å­—ä½“å¤§å° */
            color: #e86a92;
            font-weight: bold;
            margin: 10px 0;
            border: 1px dashed #ff8fab; /* è°ƒæ•´è¾¹æ¡†åšåº¦ */
        }
        
        .encouragement {
            font-size: 1.1rem; /* ä¸å…¶ä»–æ–‡æœ¬ä¸€è‡´çš„å­—ä½“å¤§å° */
            color: #e86a92;
            text-align: center;
            padding: 15px;
            background: #fff9fb;
            border-radius: 10px;
            margin-top: 20px;
            border-left: 3px solid #e86a92; /* è°ƒæ•´è¾¹æ¡†åšåº¦ */
            border-right: 3px solid #e86a92; /* è°ƒæ•´è¾¹æ¡†åšåº¦ */
        }
        
        /* åŸ‹ä¼ŠCPæ–‡æŠ•ç¨¿å±•ç¤ºæ ·å¼ */
        .submission-display-column {
            grid-column: 1 / -1; /* è®©æŠ•ç¨¿å±•ç¤ºå æ®æ•´è¡Œ */
            background: #fff9fb;
            padding: 30px !important;
            border-top: 4px solid #e86a92 !important;
            min-height: 400px;
            margin-top: 30px;
        }

        .submission-display-column h3 {
            color: #e86a92;
            margin-bottom: 25px;
            font-size: 1.8rem;
            border-bottom: 2px dashed #ffe4ec;
            padding-bottom: 10px;
        }

        /* æ’è¡Œæ¦œæ ·å¼ */
        .rankings-list {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-top: 20px;
        }

        .submission-item {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
            border-left: 4px solid #ddd;
            transition: transform 0.3s;
            position: relative;
        }

        .submission-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(232, 106, 146, 0.1);
        }

        /* å‰ä¸‰åç‰¹æ®Šè£…é¥° - é¥¼å¹²ä¸»é¢˜ */
        .submission-item.rank-1 {
            border-left: 4px solid #FFD700;
            background: linear-gradient(to right, #fffaf0, #fff9fb);
            box-shadow: 0 5px 20px rgba(255, 215, 0, 0.3);
            border: 2px solid #FFD700;
        }

        .submission-item.rank-1::before {
            content: "ğŸª";
            position: absolute;
            right: 20px;
            top: 20px;
            font-size: 2rem;
            animation: cookieSpin 3s infinite linear;
        }

        .submission-item.rank-1::after {
            content: "é‡‘ç‰Œé¥¼å¹²";
            position: absolute;
            right: 20px;
            top: 60px;
            font-size: 0.8rem;
            color: #FFD700;
            font-weight: bold;
            background: #fffaf0;
            padding: 2px 8px;
            border-radius: 10px;
            border: 1px solid #FFD700;
        }

        .submission-item.rank-2 {
            border-left: 4px solid #C0C0C0;
            background: linear-gradient(to right, #f8f8f8, #fff9fb);
            box-shadow: 0 5px 15px rgba(192, 192, 192, 0.2);
            border: 2px solid #C0C0C0;
        }

        .submission-item.rank-2::before {
            content: "ğŸª";
            position: absolute;
            right: 20px;
            top: 20px;
            font-size: 1.8rem;
            animation: cookieFloat 2s infinite ease-in-out;
        }

        .submission-item.rank-2::after {
            content: "é“¶ç‰Œé¥¼å¹²";
            position: absolute;
            right: 20px;
            top: 60px;
            font-size: 0.8rem;
            color: #C0C0C0;
            font-weight: bold;
            background: #f8f8f8;
            padding: 2px 8px;
            border-radius: 10px;
            border: 1px solid #C0C0C0;
        }

        .submission-item.rank-3 {
            border-left: 4px solid #CD7F32;
            background: linear-gradient(to right, #fef8f0, #fff9fb);
            box-shadow: 0 5px 15px rgba(205, 127, 50, 0.2);
            border: 2px solid #CD7F32;
        }

        .submission-item.rank-3::before {
            content: "ğŸª";
            position: absolute;
            right: 20px;
            top: 20px;
            font-size: 1.6rem;
            animation: cookieBounce 2.5s infinite;
        }

        .submission-item.rank-3::after {
            content: "é“œç‰Œé¥¼å¹²";
            position: absolute;
            right: 20px;
            top: 60px;
            font-size: 0.8rem;
            color: #CD7F32;
            font-weight: bold;
            background: #fef8f0;
            padding: 2px 8px;
            border-radius: 10px;
            border: 1px solid #CD7F32;
        }

        @keyframes cookieSpin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes cookieFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        @keyframes cookieBounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .submission-author {
            font-weight: bold;
            color: #e86a92;
            font-size: 1.3rem;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 2px dotted #ffe4ec;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .submission-author::before {
            content: "ğŸ‘¤";
        }

        .submission-title {
            font-weight: bold;
            color: #333;
            font-size: 1.2rem;
            margin-bottom: 15px;
            line-height: 1.4;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .submission-title::before {
            content: "ğŸ“–";
        }

        .submission-content {
            color: #666;
            font-size: 1.05rem;
            line-height: 1.7;
            margin-bottom: 20px;
            padding: 15px;
            background: #fef7f9;
            border-radius: 8px;
            border-left: 3px solid #ff8fab;
        }

        .submission-stats {
            display: flex;
            gap: 20px;
            color: #888;
            font-size: 0.95rem;
        }

        .submission-stats span {
            display: flex;
            align-items: center;
            gap: 8px;
            background: #fff;
            padding: 5px 12px;
            border-radius: 20px;
            border: 1px solid #ffe4ec;
        }

        .no-submissions {
            text-align: center;
            padding: 60px 20px;
            color: #888;
            font-size: 1.2rem;
            background: #fff9fb;
            border-radius: 10px;
            border: 2px dashed #ffe4ec;
        }

        .no-submissions i {
            font-size: 2rem;
            margin-bottom: 15px;
            display: block;
            color: #ff8fab;
        }
        
        /* ç¬¬ä¸ƒé¡µï¼šè·‘é…·æ¸¸æˆæ ·å¼ */
        #parkour-game-container {
            text-align: center;
            margin-top: 30px;
        }
        
        .game-info-panel {
            background: #fff9fb;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(232, 106, 146, 0.1);
            border-top: 4px solid #e86a92;
        }
        
        .game-stats {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
        }
        
        .game-stat {
            background: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        #game-canvas-container {
            position: relative;
            display: inline-block;
            margin: 0 auto;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            border: 5px solid #e86a92;
        }
        
        #game-canvas {
            display: block;
            background: linear-gradient(to bottom, #87CEEB, #98FB98);
        }
        
        .game-controls {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            gap: 20px;
        }
        
        .game-btn {
            background: linear-gradient(to right, #e86a92, #ff8fab);
            color: white;
            border: none;
            padding: 15px 35px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.2rem;
            transition: transform 0.3s;
        }
        
        .game-btn:hover {
            transform: translateY(-3px);
        }
        
        .game-btn.secondary {
            background: linear-gradient(to right, #6c757d, #adb5bd);
        }
        
        .game-instructions {
            margin-top: 20px;
            padding: 20px;
            background: #f8f0f3;
            border-radius: 10px;
            text-align: left;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            font-size: 1.1rem;
        }
        
        .game-instructions h4 {
            color: #e86a92;
            margin-bottom: 15px;
            font-size: 1.5rem;
        }
        
        /* æ¸¸æˆå†…å¯¹è¯æ¡†æ ·å¼ */
        .game-dialog {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 15px 25px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            border-left: 5px solid #e86a92;
            border-right: 5px solid #2ed573;
            max-width: 80%;
            z-index: 100;
            display: none;
            animation: fadeInUp 0.3s ease;
        }
        
        .game-dialog p {
            margin: 0;
            font-size: 1.2rem;
            line-height: 1.5;
        }
        
        .mai-dialog {
            border-left: 5px solid #e86a92;
            border-right: none;
        }
        
        .yi-dialog {
            border-left: none;
            border-right: 5px solid #2ed573;
        }
        
        .dialog-speaker {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .mai-speaker {
            color: #e86a92;
        }
        
        .yi-speaker {
            color: #2ed573;
        }
        
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateX(-50%) translateY(-10px); }
            to { opacity: 1; transform: translateX(-50%) translateY(0); }
        }
        
        /* ç™»å½•ç•Œé¢æ ·å¼ */
        #loginOverlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #fef7f9 0%, #ffe4ec 100%);
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #loginModal {
            background: white;
            padding: 50px;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(232, 106, 146, 0.3);
            text-align: center;
            max-width: 450px;
            width: 90%;
            border-top: 8px solid #e86a92;
        }

        #loginModal h2 {
            color: #e86a92;
            margin-bottom: 15px;
            font-size: 2.2rem;
        }

        #loginModal > p {
            color: #666;
            margin-bottom: 30px;
            font-size: 1.2rem;
        }

        .login-btn {
            display: block;
            width: 100%;
            padding: 18px;
            margin: 15px 0;
            background: #fff;
            border: 2px solid #ffe4ec;
            border-radius: 50px;
            color: #e86a92;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .login-btn:hover {
            background: #fff5f7;
            border-color: #e86a92;
            transform: translateY(-3px);
        }

        #devPasswordPrompt input {
            width: 100%;
            padding: 15px;
            border: 2px solid #ffe4ec;
            border-radius: 10px;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        #submitDevPassword, #backToMode {
            background: #e86a92;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            margin: 5px;
            font-size: 1.1rem;
        }

        #backToMode {
            background: #ccc;
            color: #333;
        }
        
        /* åˆ‡æ¢æ¨¡å¼æŒ‰é’® */
        .switch-mode-btn {
            background: linear-gradient(to right, #e86a92, #ff8fab);
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1rem;
            margin-left: 15px;
            transition: transform 0.3s;
        }
        
        .switch-mode-btn:hover {
            transform: translateY(-2px);
        }
        
        /* å¼€å‘è€…æ¨¡å¼æ ‡è®° */
        .dev-mode-indicator {
            background: #ff4757;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.9rem;
            font-weight: bold;
            margin-left: 10px;
        }
        
        /* åº•éƒ¨ */
        footer {
            background-color: #333;
            color: #fff;
            padding: 60px 0 40px;
            border-radius: 30px 30px 0 0;
            margin-top: 60px;
        }
        
        .footer-content {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            margin-bottom: 40px;
        }
        
        .footer-section {
            flex: 1;
            min-width: 250px;
            margin-bottom: 30px;
        }
        
        .footer-section h3 {
            font-size: 1.6rem;
            margin-bottom: 20px;
            color: #ff8fab;
        }
        
        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid #555;
            color: #aaa;
            font-size: 1rem;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 992px) {
            .story-content, .characters-grid {
                grid-template-columns: 1fr;
            }
            
            .gallery-grid, .video-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
        }
        
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .hero p {
                font-size: 1.2rem;
            }
            
            .header-content {
                flex-direction: column;
                gap: 20px;
            }
            
            nav ul {
                gap: 15px;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .tab-btn {
                padding: 12px 20px;
                font-size: 1rem;
            }
            
            .switch-mode-btn {
                margin: 10px 0 0 0;
            }
            
            #game-canvas-container {
                max-width: 95%;
            }
            
            #game-canvas {
                width: 100%;
                height: auto;
            }
            
            /* ç§»åŠ¨ç«¯è°ƒæ•´CPå®˜æ–‡æ ·å¼ */
            .locked-column {
                padding: 20px !important;
            }
            
            #fanfic-password {
                width: 100%;
                margin-right: 0;
                margin-bottom: 15px;
                font-size: 1rem;
            }
            
            .fanfic-content {
                padding: 0;
                font-size: 1rem;
            }
            
            /* ç§»åŠ¨ç«¯è°ƒæ•´æ–‡ç« ä¸“æ  */
            .article-column {
                padding: 20px;
            }
            
            .article-column h3 {
                font-size: 1.5rem;
            }
            
            /* ç§»åŠ¨ç«¯è°ƒæ•´æŠ•ç¨¿å±•ç¤º */
            .submission-display-column {
                padding: 20px !important;
            }
            
            .submission-item {
                padding: 15px;
            }
            
            .submission-stats {
                flex-wrap: wrap;
                gap: 10px;
            }
        }
        
        @media (max-width: 480px) {
            .pagination-tabs {
                justify-content: center;
            }
            
            .tab-btn {
                padding: 10px 15px;
                font-size: 0.9rem;
            }
            
            .gallery-grid, .video-grid {
                grid-template-columns: 1fr;
            }
            
            .game-controls {
                flex-direction: column;
                align-items: center;
            }
            
            .game-btn {
                width: 80%;
            }
            
            .game-dialog {
                padding: 10px 15px;
                font-size: 0.9rem;
            }
            
            .game-dialog p {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- ç™»å½•é®ç½©å±‚ -->
    <div id="loginOverlay">
        <div id="loginModal">
            <h2><i class="fas fa-cookie-bite"></i> æ¬¢è¿æ¥åˆ°åŸ‹ä¼Šå°ç«™</h2>
            <p>è¯·é€‰æ‹©ä½ çš„è®¿é—®æ¨¡å¼ï¼š</p>
            
            <button id="guestMode" class="login-btn">
                <i class="fas fa-user"></i> æ¸¸å®¢æ¨¡å¼
            </button>
            
            <button id="devModeBtn" class="login-btn">
                <i class="fas fa-code"></i> å¼€å‘è€…æ¨¡å¼
            </button>
            
            <!-- å¼€å‘è€…å¯†ç è¾“å…¥æ¡†ï¼ˆé»˜è®¤éšè—ï¼‰ -->
            <div id="devPasswordPrompt" style="display:none; margin-top:20px;">
                <input type="password" id="devPassword" placeholder="è¯·è¾“å…¥å¼€å‘è€…å¯†ç ">
                <button id="submitDevPassword">è¿›å…¥</button>
                <p id="passwordError" style="color:#ff4757; font-size:0.9em; margin-top:5px;"></p>
                <button id="backToMode" style="background:none; border:none; color:#888; margin-top:10px;">â† è¿”å›é€‰æ‹©æ¨¡å¼</button>
            </div>
            
            <!-- æ·»åŠ å¯†ç æç¤º -->
            <div style="margin-top: 20px; padding: 15px; background: #fff9fb; border-radius: 10px; border: 1px dashed #ffe4ec;">
                <p style="margin: 0; color: #666; font-size: 0.9rem;">
                    <i class="fas fa-info-circle"></i> æç¤ºï¼šå¼€å‘è€…å¯†ç æ˜¯ <strong>æˆ‘æ¥æ‰¾ä¼Šç °ç °ç °äº†~~~</strong>
                </p>
            </div>
        </div>
    </div>
    
    <!-- ç½‘ç«™ä¸»å†…å®¹ (é»˜è®¤éšè—ï¼Œç™»å½•åæ˜¾ç¤º) -->
    <div id="mainContent" style="display:none;">
        <!-- å¯¼èˆªæ  -->
        <header>
            <div class="container header-content">
                <div class="logo">
                    <i class="fas fa-heart"></i>
                    <span>çˆ±åƒé¥¼å¹²çš„åŸ‹</span>
                    <span id="devModeIndicator" class="dev-mode-indicator" style="display:none;">å¼€å‘è€…æ¨¡å¼</span>
                </div>
                <nav>
                    <ul>
                        <li><a href="#home" class="active">é¦–é¡µ</a></li>
                        <li><a href="#pagination">åˆ†é¡µæµè§ˆ</a></li>
                        <li><a href="#footer">è”ç³»ä½œè€…</a></li>
                        <li><button id="switchModeBtn" class="switch-mode-btn"><i class="fas fa-exchange-alt"></i> åˆ‡æ¢æ¨¡å¼</button></li>
                    </ul>
                </nav>
            </div>
        </header>

        <!-- ä¸»æ ‡é¢˜åŒºåŸŸ -->
        <section class="hero" id="home">
            <div class="container">
                <h1>ä½œä¸ºå‰è¾ˆçš„åŸ‹ï¼Œè¢«åè¾ˆä¼Šæš—æ‹ä¸Šäº†ï¼ï¼Ÿï¼ï¼Ÿ</h1>
                <p>ä¸€æ®µå……æ»¡ç”œèœœä¸çº ç»“çš„ç½‘ç»œæ‹çˆ±ç‰©è¯­ï¼Œå‰è¾ˆä¸åè¾ˆä¹‹é—´å¾®å¦™çš„æƒ…æ„Ÿçº è‘›ï¼Œå¿ƒè·³åŠ é€Ÿçš„æ—¥å¸¸å³å°†å±•å¼€ï¼</p>
                <a href="#pagination" class="cta-button">å¼€å§‹æ¢ç´¢æ•…äº‹</a>
            </div>
        </section>

        <!-- åˆ†é¡µå†…å®¹ -->
        <section class="pagination-container" id="pagination">
            <div class="container">
                <!-- åˆ†é¡µæ ‡ç­¾ -->
                <div class="pagination-tabs">
                    <button class="tab-btn active" data-tab="tab1">æ•…äº‹ç®€ä»‹</button>
                    <button class="tab-btn" data-tab="tab2">è§’è‰²ä»‹ç»</button>
                    <button class="tab-btn" data-tab="tab3">å›¾ç‰‡åº“</button>
                    <button class="tab-btn" data-tab="tab4">è§†é¢‘å†…å®¹</button>
                    <button class="tab-btn" data-tab="tab5">â¤ï¸ å¿ƒåŠ¨äº’åŠ¨</button>
                    <button class="tab-btn" data-tab="tab6">ğŸ“ æ–‡ç« ä¸“æ </button>
                    <button class="tab-btn" data-tab="tab7">ğŸ® è·‘é…·æ¸¸æˆ</button>
                </div>
                
                <!-- ç¬¬ä¸€é¡µï¼šæ•…äº‹ç®€ä»‹ -->
                <div class="tab-content active" id="tab1">
                    <h2 class="page-title">æ•…äº‹ç®€ä»‹</h2>
                    <div class="story-content">
                        <div class="story-image">
                            <img src="é¦–é¡µ.png" width="1200" height="800" alt="å‰è¾ˆä¸åè¾ˆçš„æµªæ¼«æ•…äº‹"/>
                        </div>
                        <div class="story-text">
                            <p>ã€Šä½œä¸ºå‰è¾ˆçš„åŸ‹ï¼Œè¢«åè¾ˆä¼Šæš—æ‹ä¸Šäº†ï¼ï¼Ÿï¼ï¼Ÿã€‹æ˜¯ä¸€éƒ¨ä¸ªæç»˜ç½‘ç»œæ‹çˆ±ç”œèœœä¸çƒ¦æ¼çš„æµªæ¼«ç½‘ç«™ã€‚æ•…äº‹å›´ç»•æ¸©æŸ”è®¤çœŸçš„å‰è¾ˆ"åŸ‹"å’Œé«˜å†·é˜´éƒçš„åè¾ˆ"ä¼Š"å±•å¼€ã€‚</p>
                            <p>åœ¨ä¸Šç½‘å†²æµªçš„æ—¥å¸¸ä¸­ï¼Œåè¾ˆä¼Šä¸€ç›´é»˜é»˜è§†å¥¸ç€å‰è¾ˆåŸ‹ï¼Œè¢«å¥¹çš„ä¸“ä¸šèƒ½åŠ›å’Œæ¸©æŸ”æ€§æ ¼æ·±æ·±å¸å¼•ã€‚ç„¶è€Œï¼ŒåŸ‹å´å¯¹ä¼Šçš„è§†å¥¸æ²¡æœ‰æ”¾åœ¨å¿ƒä¸Šï¼ŒåªæŠŠå¥¹å½“ä½œä¸€ä¸ªä¸€ç›´æš—æ‹è‡ªå·±çš„çŒå¥‡åè¾ˆã€‚</p>
                            <p>éšç€ä¸¤äººåœ¨ç½‘ç»œä¸Šçš„äº¤é›†è¶Šæ¥è¶Šå¤šï¼Œä¼Šçš„å¿ƒæ„é€æ¸æ— æ³•éšè—ï¼Œè€ŒåŸ‹ä¹Ÿå¼€å§‹æ³¨æ„åˆ°è¿™ä½åè¾ˆç‰¹åˆ«çš„å­˜åœ¨...</p>
                            
                            <h3 style="margin-top: 30px; color: #e86a92;">ä½œå“ç‰¹ç‚¹</h3>
                            <ul class="features">
                                <li>ç»†è…»çš„å¿ƒç†æå†™ï¼Œå±•ç°ç“œæ¡ä¸­éšè—çš„ç”œèœœä¸å…´å¥‹</li>
                                <li>çœŸå®çš„ç½‘ç»œèƒŒæ™¯ï¼Œè´´è¿‘ç°ä»£é¥¼å¹²çš„ç”Ÿæ´»</li>
                                <li>ç²¾å½©æœ‰è¶£çš„è€å¸ˆäº’åŠ¨ï¼Œå¿ƒè·³åŠ é€Ÿçš„æµªæ¼«åœºæ™¯</li>
                                <li>å¹½é»˜ä¸æ„ŸåŠ¨å¹¶å­˜çš„æ•…äº‹æƒ…èŠ‚</li>
                                <li>ç²¾ç¾æ’ç”»å‘ˆç°å…³é”®åœºæ™¯</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <!-- ç¬¬äºŒé¡µï¼šè§’è‰²ä»‹ç» -->
                <div class="tab-content" id="tab2">
                    <h2 class="page-title">ä¸»è¦è§’è‰²</h2>
                    <div class="characters-grid">
                        <div class="character-card">
                            <div class="character-header">
                                <div class="character-icon">
                                    <i class="fas fa-user-tie"></i>
                                </div>
                                <div>
                                    <div class="character-name">åŸ‹ (Mai)</div>
                                    <div class="character-role">å‰è¾ˆ Â· é»‘å½±é¦™è‰æ— å·®ï¼Œç™½å¥¶æ¿€æ¨è€å¸ˆ</div>
                                </div>
                            </div>
                            <div class="character-desc">
                                <p>19å²ï¼Œç”»ç”»è½»æ¾éšæ„ï¼Œå¯¹ç»†èŠ‚è¦æ±‚ä¸é«˜ï¼Œç”»é¢èƒ½çœ‹çš„ä¸‹å»å°±è¡Œã€‚è™½ç„¶è¡¨é¢ä¸Šçœ‹èµ·æ¥å¾ˆåŠå„¿éƒå½“ï¼Œä½†å®é™…ä¸Šéå¸¸å…³å¿ƒæœ‹å‹ï¼Œå°¤å…¶æ˜¯å¯¹è€æœ‹å‹æ ¼å¤–ç…§é¡¾ã€‚å¯¹æ‹çˆ±ååº”æ•æ„Ÿï¼Œå®Œå…¨å¯Ÿè§‰åˆ°äº†åè¾ˆä¼Šå…¶å®ä¸€ç›´åœ¨æš—æ‹è‡ªå·±ã€‚</p>
                                <p>å–œæ¬¢å–å¥¶èŒ¶ï¼Œä¸šä½™æ—¶é—´ä¼šå»åºŠä¸Šèººç€åˆ·æ‰‹æœºã€‚è®¤ä¸ºCPäº§å“åº”è¯¥ä¸ç§äººæ„Ÿæƒ…åˆ†å¼€ï¼Œå´ä¸çŸ¥è‡ªå·±æ­£æˆä¸ºåˆ«äººæš—æ‹çš„å¯¹è±¡ã€‚</p>
                            </div>
                        </div>
                        
                        <div class="character-card">
                            <div class="character-header">
                                <div class="character-icon">
                                    <i class="fas fa-user-graduate"></i>
                                </div>
                                <div>
                                    <div class="character-name">ä¼Š (YI)</div>
                                    <div class="character-role">åè¾ˆ Â· é¦™å½±æç«¯æ´ç™–è€å¸ˆ</div>
                                </div>
                            </div>
                            <div class="character-desc">
                                <p>16å²ï¼Œæ²‰é»˜å¯¡è¨€çš„é¦™å½±è€å¸ˆï¼Œå…¥å‘å§œé¥¼äººç‹å›½ä¸€å¹´ã€‚è¢«å‰è¾ˆåŸ‹çš„ä¸“ä¸šèƒ½åŠ›å’Œæ¸©æŸ”å†…å¿ƒæ‰€å¸å¼•ï¼Œä¸çŸ¥ä¸è§‰ä¸­é™·å…¥äº†æš—æ‹ã€‚</p>
                                <p>åŠªåŠ›æå‡è‡ªå·±çš„å†™ç“œæ¡èƒ½åŠ›ï¼Œå¸Œæœ›èƒ½å¾—åˆ°åŸ‹çš„è®¤å¯ã€‚æ€»æ˜¯æ‰¾å§åº•ä¸åŸ‹æ¥è§¦ï¼Œä½†åˆå®³æ€•è‡ªå·±çš„å§åº•è¢«å‘ç°ã€‚å–œæ¬¢æ¶©æ¶©ï¼Œå…»äº†ä¸€ä¸ªå†›paç§è®¾ã€‚</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ç¬¬ä¸‰é¡µï¼šå›¾ç‰‡åº“ -->
                <div class="tab-content" id="tab3">
                    <h2 class="page-title">å›¾ç‰‡åº“</h2>
                    <p style="text-align: center; margin-bottom: 30px; color: #666;">ä»¥ä¸‹æ˜¯ä¸ºæœ¬ç½‘ç«™å±•ç¤ºçš„ç²¾ç¾æ’å›¾ï¼Œå±•ç¤ºäº†æ•…äº‹ä¸­çš„å…³é”®åœºæ™¯</p>
                    
                    <div class="gallery-container">
                        <div class="gallery-grid">
                            <div class="gallery-item">
                                <img src="å¾®ä¿¡å›¾ç‰‡_20251215232824_631_13.png" width="1200" height="800" alt=""/>
                                <div class="gallery-caption">
                                    <h4>åˆæ¬¡ç›¸é‡</h4>
                                    <p>ä¼Šä¸åŸ‹çš„åˆæ¬¡è§é¢</p>
                                </div>
                            </div>
                            
                            <div class="gallery-item">
                                <img src="å¾®ä¿¡å›¾ç‰‡_20251215232825_632_13.png" width="1200" height="800" alt=""/>
                                <div class="gallery-caption">
                                    <h4>æ¬²æ“’æ•…çºµ</h4>
                                    <p>ä¼Šæ•…æ„è¯´åŸ‹æ˜¯å¥¹å¯¹å®¶</p>
                                </div>
                            </div>
                            
                            <div class="gallery-item">
                                <img src="å¾®ä¿¡å›¾ç‰‡_20251215232825_633_13.png" width="1200" height="800" alt=""/>
                                <div class="gallery-caption">
                                    <h4>ç“œæ¡æ ‡é¢˜</h4>
                                    <p>ç“œæ¡å¤§æˆ˜æ—¶ä¼Šå·å·æš—ç¤ºåŸ‹</p>
                                </div>
                            </div>
                            
                            <div class="gallery-item">
                                <img src="å¾®ä¿¡å›¾ç‰‡_20251215232826_634_13.png" width="1200" height="800" alt=""/>
                                <div class="gallery-caption">
                                    <h4>ç °ç °ç °æ—¶åˆ»</h4>
                                    <p>ä¸¤äººä¸€èµ·ç °ç °ç °åˆ°æ·±å¤œ</p>
                                </div>
                            </div>
                            
                            <div class="gallery-item">
                                <img src="å¾®ä¿¡å›¾ç‰‡_20251215232827_635_13.png" width="1200" height="800" alt=""/>
                                <div class="gallery-caption">
                                    <h4>èµ é€çˆ¶æ¯</h4>
                                    <p>å¥½å¿ƒçš„åŸ‹è¯•å›¾å°†è‡ªå·±çš„çˆ¶æ¯é€ç»™ä¼Š</p>
                                </div>
                            </div>
                            
                            <div class="gallery-item">
                                <img src="å¾®ä¿¡å›¾ç‰‡_20251215232850_636_13.png" width="1216" height="894" alt=""/>
                                <div class="gallery-caption">
                                    <h4>å…è´¹èµ å›¾</h4>
                                    <p>åŸ‹ç²¾å¿ƒä¸ºä¼Šåˆ¶ä½œçš„å¹½é»˜æ¢—å›¾</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ç¬¬å››é¡µï¼šè§†é¢‘å†…å®¹ -->
                <div class="tab-content" id="tab4">
                    <h2 class="page-title">è§†é¢‘å†…å®¹</h2>
                    <p style="text-align: center; margin-bottom: 30px; color: #666;">è§‚çœ‹æœ¬ç½‘ç«™çš„å®£ä¼ è§†é¢‘å’Œç›¸å…³å†…å®¹</p>
                    
                    <div class="video-container">
                        <div class="video-grid">
                            <div class="video-item">
                                <div class="video-player">
                                    <iframe src="å¾®ä¿¡è§†é¢‘2025-12-16_150922_305.mp4" frameborder="0" allowfullscreen></iframe>
                                </div>
                                <div class="video-info">
                                    <h4>ç½‘ç«™é¢„å‘Šç‰‡</h4>
                                    <p>ã€Šä½œä¸ºå‰è¾ˆçš„åŸ‹ï¼Œè¢«åè¾ˆä¼Šæš—æ‹ä¸Šäº†ï¼ï¼Ÿï¼ï¼Ÿã€‹ç½‘ç«™å®˜æ–¹é¢„å‘Šç‰‡ï¼Œé¦–æ¬¡å…¬å¼€ç²¾å½©ç‰‡æ®µã€‚</p>
                                    <span class="video-duration">00:16</span>
                                </div>
                            </div>
                            
                            <div class="video-item">
                                <div class="video-player">
                                    <iframe src="å¾®ä¿¡è§†é¢‘2025-12-16_153218_128.mp4" frameborder="0" allowfullscreen></iframe>
                                </div>
                                <div class="video-info">
                                    <h4>ç²¾ç¾æ¢—å›¾</h4>
                                    <p>ä¼Ÿå¤§çš„ï¼Œæ¸©æŸ”çš„åŸ‹å¸ˆäº²æ‰‹åˆ¶ä½œæ¢—å›¾ï¼Œåˆ†äº«äº†ä¼Šå¸ˆåˆ°å¤„æ¯•ä¸šäººå’Œå¹•åæ¨æ‰‹é¢‚å¸ˆã€‚</p>
                                    <span class="video-duration">00:12</span>
                                </div>
                            </div>
                            
                            <div class="video-item">
                                <div class="video-player">
                                    <iframe src="å¾®ä¿¡è§†é¢‘2025-12-16_144802_833.mp4" frameborder="0" allowfullscreen></iframe>
                                </div>
                                <div class="video-info">
                                    <h4>åˆ¶ä½œèŠ±çµ®</h4>
                                    <p>è§†é¢‘åˆ¶ä½œè¿‡ç¨‹çš„å¹•åèŠ±çµ®ï¼Œå±•ç¤ºä»å‰ªè¾‘è½¯ä»¶åˆ°å®Œæ•´è§†é¢‘çš„åˆ›ä½œå†ç¨‹ã€‚</p>
                                    <span class="video-duration">00:22</span>
                                </div>
                            </div>
                            
                            <div class="video-item">
                                <div class="video-player">
                                    <iframe src="å¾®ä¿¡è§†é¢‘2025-12-16_144237_772.mp4" frameborder="0" allowfullscreen></iframe>
                                </div>
                                <div class="video-info">
                                    <h4>ä¸»é¢˜æ›²MV</h4>
                                    <p>ä½œå“ä¸»é¢˜æ›²ã€Œä¼Šçˆ±ä¸Šäº†åŸ‹ã€å®Œæ•´ç‰ˆéŸ³ä¹è§†é¢‘ï¼Œç”±é»‘å½±ç‰›å¥¶é¥¼å¹²ï¼ˆè‹±é…ï¼‰æ¼”å”±ã€‚</p>
                                    <span class="video-duration">4:33</span>
                                </div>
                            </div>
                            
                            <div class="video-item">
                                <div class="video-player">
                                    <iframe src="å¾®ä¿¡è§†é¢‘2025-12-16_141546_322.mp4" frameborder="0" allowfullscreen></iframe>
                                </div>
                                <div class="video-info">
                                    <h4>ç²‰ä¸ååº”è§†é¢‘</h4>
                                    <p>ç²‰ä¸çœ‹åˆ°ä¼Šç»™åŸ‹å†™çš„ç“œæ¡çš„ååº”å’Œè¯„è®ºåˆé›†ã€‚</p>
                                    <span class="video-duration">00:34</span>
                                </div>
                            </div>
                            
                            <div class="video-item">
                                <div class="video-player">
                                    <iframe src="å¾®ä¿¡è§†é¢‘2025-12-16_154305_746.mp4" frameborder="0" allowfullscreen></iframe>
                                </div>
                                <div class="video-info">
                                    <h4>è€å¸ˆä»‹ç»è§†é¢‘</h4>
                                    <p>è¯¦ç»†ä»‹ç»ä¸¤ä½è€å¸ˆåŸ‹å’Œä¼Šçš„æ€§æ ¼ç‰¹ç‚¹ã€èƒŒæ™¯æ•…äº‹ã€‚</p>
                                    <span class="video-duration">6:45</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ç¬¬äº”é¡µï¼šå¿ƒåŠ¨äº’åŠ¨ -->
                <div class="tab-content" id="tab5">
                    <h2 class="page-title">å¿ƒåŠ¨äº’åŠ¨</h2>
                    <div class="interactive-content">
                        <div class="heart-counter">
                            <h3>ä¸ºè¿™æ®µæš—æ‹æ•…äº‹å¢åŠ å¿ƒè·³æŒ‡æ•°</h3>
                            <p>ç‚¹å‡»ä¸‹é¢çš„æŒ‰é’®ï¼Œä¸ºåŸ‹å‰è¾ˆå’Œä¼Šåè¾ˆçš„çˆ±æƒ…åŠ æ²¹ï¼æ¯ç‚¹å‡»ä¸€æ¬¡ï¼Œä»£è¡¨ä»–ä»¬çš„å…³ç³»æ›´è¿‘ä¸€æ­¥ã€‚</p>
                            <div id="heart-display">â¤ï¸ 0</div>
                            <p>å½“å‰æ•…äº‹å…³ç³»é˜¶æ®µï¼š<span id="relationship-stage">åŸ‹åœ¨è€ç¦ç‰¹åˆ·åˆ°äº†ä¼Šï¼ŒåŸ‹å•æ–¹é¢å–œæ¬¢ä¼Šçš„æ­£å¸¸ç”»</span></p>
                            <button id="heart-button">å¢åŠ å¿ƒåŠ¨å€¼</button>
                        </div>
                    </div>
                </div>
                
                <!-- ç¬¬å…­é¡µï¼šæ–‡ç« ä¸“æ  -->
                <div class="tab-content" id="tab6">
                    <h2 class="page-title">æ–‡ç« ä¸“æ </h2>
                    <div class="article-columns-container">
                        <!-- æ ç›®1ï¼šåŸ‹çš„ä¸ªäººç»å† -->
                        <section class="article-column" id="column-experience">
                            <h3><i class="fas fa-book-open"></i> åŸ‹çš„ä¸ªäººç»å†</h3>
                            <div class="text-content">
                                <p>è¿™é‡Œå¼€å§‹å†™ä½ çš„ä¸ªäººç»å†æ–‡ç« ...ä¾‹å¦‚ï¼Œä½ å¯ä»¥è®²è¿°ä½ æ˜¯å¦‚ä½•å¼€å§‹ç”»ç”»ã€å¦‚ä½•æ¥è§¦åˆ°è¿™ä¸ªåœˆå­ç­‰ç­‰ã€‚</p>
                                <!-- å›¾ç‰‡æ’å…¥ç‚¹1 -->
                                <div class="img-insert-point" data-img="experience1.jpg" data-title="ç¬¬ä¸€å¼ å›å¿†">(ç‚¹å‡»è¿™é‡Œæ’å…¥å›¾ç‰‡1)</div>
                                <p>ç»§ç»­ä½ çš„æ–‡ç« å™è¿°...</p>
                                <!-- å›¾ç‰‡æ’å…¥ç‚¹2 -->
                                <div class="img-insert-point" data-img="experience2.jpg" data-title="ç¬¬äºŒå¼ å›å¿†">(ç‚¹å‡»è¿™é‡Œæ’å…¥å›¾ç‰‡2)</div>
                                <p>æ›´å¤šçš„æ•…äº‹å’Œå›å¿†...</p>
                                <div class="img-insert-point" data-img="experience3.jpg" data-title="ç¬¬ä¸‰å¼ å›å¿†">(ç‚¹å‡»è¿™é‡Œæ’å…¥å›¾ç‰‡3)</div>
                                <p>ç»§ç»­å†™...</p>
                                <div class="img-insert-point" data-img="experience4.jpg" data-title="ç¬¬å››å¼ å›å¿†">(ç‚¹å‡»è¿™é‡Œæ’å…¥å›¾ç‰‡4)</div>
                                <p>æœ€åçš„æ•…äº‹...</p>
                                <div class="img-insert-point" data-img="experience5.jpg" data-title="ç¬¬äº”å¼ å›å¿†">(ç‚¹å‡»è¿™é‡Œæ’å…¥å›¾ç‰‡5)</div>
                            </div>
                        </section>

                        <!-- æ ç›®2ï¼šåŸ‹å¯¹äºç“œæ¡çš„çœ‹æ³• -->
                        <section class="article-column" id="column-opinion">
                            <h3><i class="fas fa-comment-dots"></i> åŸ‹å¯¹äºç“œæ¡çš„çœ‹æ³•</h3>
                            <div class="text-content">
                                <p>è¿™é‡Œå†™ä½ å¯¹ç“œæ¡æ–‡åŒ–çš„å®Œæ•´çœ‹æ³•ã€è¶£äº‹æˆ–è€…åˆ†æ...</p>
                                <p>ç“œæ¡å…¶å®å°±æ˜¯ç½‘ç»œä¸Šçš„ä¸€ç§åŒ¿åçˆ†æ–™æˆ–è®¨è®ºå½¢å¼ï¼Œæœ‰æ—¶å€™å¾ˆæœ‰è¶£ï¼Œæœ‰æ—¶å€™ä¹Ÿä¼šè®©äººå›°æ‰°ã€‚æˆ‘ä¸ªäººè§‰å¾—ï¼Œåªè¦ä¸æ¶‰åŠäººèº«æ”»å‡»å’Œæ¶æ„é€ è°£ï¼Œç“œæ¡ä¹Ÿæ˜¯ä¸€ç§ç¤¾åŒºäº¤æµçš„æ–¹å¼ã€‚</p>
                                <p>æ–‡ç« ç»“å°¾...</p>
                                <!-- æ”¹è¿›çš„äº’åŠ¨è¥¿ç“œ -->
                                <div class="watermelon-interactive">
                                    <h4>ç“œæ¡æ€åº¦æµ‹è¯•å™¨</h4>
                                    <p>ç‚¹å‡»ä¸‹é¢çš„è¥¿ç“œï¼Œè¡¨è¾¾ä½ å¯¹ç“œæ¡çš„æ€åº¦ï¼</p>
                                    <div class="watermelon" id="clickable-watermelon">
                                        <div class="watermelon-body">
                                            <div class="rind"></div>
                                            <div class="flesh">
                                                <div class="seed"></div>
                                                <div class="seed"></div>
                                                <div class="seed"></div>
                                            </div>
                                        </div>

                                    </div>
                                    <p>å·²æ•²å‡»è¥¿ç“œï¼š<span id="whack-count">0</span> æ¬¡</p>
                                    <div class="watermelon-stage">
                                        å½“å‰é˜¶æ®µï¼š<span id="watermelon-stage">å¯¹ç“œæ¡æ— æ„Ÿ</span>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- æ ç›®3ï¼šåŒ¿åæé—® -->
                        <section class="article-column" id="column-qa">
                            <h3><i class="fas fa-question-circle"></i> åŒ¿åæé—®</h3>
                            <div class="qna-container">
                                <div class="new-question">
                                    <textarea id="new-question-text" placeholder="æœ‰ä»€ä¹ˆæƒ³é—®åŸ‹çš„å—ï¼Ÿ"></textarea>
                                    <button id="submit-question">æäº¤é—®é¢˜</button>
                                </div>
                                <div class="questions-list" id="questions-list">
                                    <!-- é—®é¢˜åˆ—è¡¨ä¼šé€šè¿‡JSåŠ¨æ€åŠ è½½åˆ°è¿™é‡Œ -->
                                    <p>æ­£åœ¨åŠ è½½é—®é¢˜...</p>
                                </div>
                            </div>
                        </section>

                        <!-- æ ç›®4ï¼šåŸ‹ä¼ŠCPæŠ•ç¨¿ä¸“æ  -->
                        <section class="article-column submission-column" id="column-submission">
                            <h3><i class="fas fa-envelope"></i> åŸ‹ä¼ŠCPæ–‡æŠ•ç¨¿</h3>
                            <div class="text-content">
                                <div class="submission-info">
                                    <p>æ¬¢è¿å„ä½é¥¼å¹²è€å¸ˆæŠ•ç¨¿å…³äºåŸ‹ä¼ŠCPçš„åŸåˆ›æ–‡ç« ï¼</p>
                                    <p>æ— è®ºæ˜¯ç”œèœœæ—¥å¸¸ã€æµªæ¼«æ•…äº‹è¿˜æ˜¯è„‘æ´å¤§å¼€çš„æƒ…èŠ‚ï¼Œæˆ‘ä»¬éƒ½éå¸¸æœŸå¾…çœ‹åˆ°æ‚¨çš„åˆ›ä½œï¼</p>
                                    <p>æŠ•ç¨¿é‚®ç®±åœ°å€ï¼š</p>
                                    <div class="email-address">maiyi_love_submission@example.com</div>
                                    <p>æŠ•ç¨¿è¦æ±‚ï¼š</p>
                                    <ul style="padding-left: 20px; margin-top: 10px;">
                                        <li>ä¸»é¢˜éœ€ä¸åŸ‹ä¼ŠCPç›¸å…³</li>
                                        <li>å†…å®¹å¥åº·ï¼Œä¸æ¶‰åŠæ•æ„Ÿè¯é¢˜</li>
                                        <li>åŸåˆ›ä½œå“ï¼Œä¸å¾—æŠ„è¢­</li>
                                        <li>å­—æ•°å»ºè®®åœ¨1000-5000å­—ä¹‹é—´</li>
                                    </ul>
                                </div>
                                <div class="encouragement">
                                    â¤ï¸ æœŸå¾…çœ‹åˆ°æ‚¨çš„ç²¾å½©ä½œå“ï¼è®©æˆ‘ä»¬ä¸€èµ·ä¸ºåŸ‹ä¼ŠCPåˆ›é€ æ›´å¤šç¾å¥½çš„æ•…äº‹ï¼ â¤ï¸
                                </div>
                            </div>
                        </section>
                        
                        <!-- æ ç›®5ï¼šåŸ‹ä¼ŠCPæ–‡æŠ•ç¨¿å±•ç¤º -->
                        <section class="article-column submission-display-column" id="column-submission-display">
                            <h3><i class="fas fa-cookie-bite"></i> åŸ‹ä¼ŠCPæ–‡æŠ•ç¨¿å±•ç¤º <span class="badge" style="background:#e86a92;color:white;padding:5px 10px;border-radius:10px;font-size:0.8rem;">é¥¼å¹²æ’è¡Œæ¦œ</span></h3>
                            <div class="rankings-header" style="margin-bottom:20px; padding:15px; background:#fff; border-radius:10px; border:2px solid #ffe4ec;">
                                <div style="display:flex; justify-content:space-between; align-items:center;">
                                    <div>
                                        <h4 style="color:#e86a92; margin-bottom:5px;">ğŸ† é¥¼å¹²æ’è¡Œæ¦œè§„åˆ™</h4>
                                        <p style="color:#666; font-size:0.95rem;">å‰ä¸‰åæŠ•ç¨¿å°†è·å¾—ç‰¹åˆ«é¥¼å¹²è£…é¥°ï¼æ ¹æ®ç‚¹èµã€è¯„è®ºå’Œå†…å®¹è´¨é‡ç»¼åˆè¯„åˆ†ã€‚</p>
                                    </div>
                                    <div style="text-align:center;">
                                        <div style="font-size:2rem;">ğŸª</div>
                                        <div style="color:#e86a92; font-weight:bold;">é¥¼å¹²å¥–åŠ±</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="rankings-list" id="submissions-list">
                                <!-- æŠ•ç¨¿å†…å®¹å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
                                <div class="no-submissions" id="no-submissions-msg">
                                    <i class="fas fa-spinner fa-spin"></i> æ­£åœ¨åŠ è½½æŠ•ç¨¿ä½œå“...
                                </div>
                            </div>
                            
                            <div class="rankings-footer" style="margin-top:30px; padding:15px; background:#fff9fb; border-radius:10px; text-align:center; border:1px dashed #ffe4ec;">
                                <p style="color:#666; margin-bottom:10px;">
                                    <i class="fas fa-info-circle"></i> æŠ•ç¨¿å±•ç¤ºæ¯å‘¨æ›´æ–°ä¸€æ¬¡ï¼ŒæœŸå¾…ä½ çš„ä½œå“ä¸Šæ¦œï¼
                                </p>
                                <div style="display:flex; justify-content:center; gap:20px; font-size:0.9rem;">
                                    <span><i class="fas fa-cookie"></i> ğŸ¥‡ é‡‘ç‰Œé¥¼å¹²ï¼šç»¼åˆè¯„åˆ†95+</span>
                                    <span><i class="fas fa-cookie"></i> ğŸ¥ˆ é“¶ç‰Œé¥¼å¹²ï¼šç»¼åˆè¯„åˆ†85-94</span>
                                    <span><i class="fas fa-cookie"></i> ğŸ¥‰ é“œç‰Œé¥¼å¹²ï¼šç»¼åˆè¯„åˆ†75-84</span>
                                </div>
                            </div>
                        </section>

                        <!-- æ ç›®6ï¼šåŸ‹ä¼ŠCPå®˜æ–‡ (é»˜è®¤éšè—ï¼Œéœ€è¦å¯†ç ) -->
                        <section class="article-column locked-column" id="column-fanfic">
                            <h3><i class="fas fa-lock"></i> åŸ‹ä¼ŠCPå®˜æ–‡ <small>(éœ€å¯†ç è§£é”)</small></h3>
                            <div class="password-prompt">
                                <input type="password" id="fanfic-password" placeholder="è¯·è¾“å…¥å¯†ç ">
                                <button id="unlock-fanfic">è§£é”æŸ¥çœ‹</button>
                                <p id="password-hint"></p>
                            </div>
							 <!-- æ·»åŠ å¯†ç æç¤º -->
            <div style="margin-top: 20px; padding: 15px; background: #fff9fb; border-radius: 10px; border: 1px dashed #ffe4ec;">
                <p style="margin: 0; color: #666; font-size: 0.9rem;">
                    <i class="fas fa-info-circle"></i> æç¤ºï¼šåŸ‹ä¼ŠCPå®˜æ–‡å¯†ç æ˜¯ <strong>åŸ‹ä¼Š99</strong>
                </p>
            </div>
                            <div class="fanfic-content" style="display:none;">
                                <h4>ç¬¬ä¸€ç« ï¼šæ„å¤–çš„ç“œæ¡</h4>
                                <p>æ·±å¤œï¼ŒåŸ‹æ­£åœ¨åˆ·ç€LOFTERï¼Œçªç„¶çœ‹åˆ°ä¸€æ¡å…³äºè‡ªå·±çš„ç“œæ¡ã€‚ç‚¹å¼€ä¸€çœ‹ï¼Œæ ‡é¢˜èµ«ç„¶å†™ç€ï¼š"éœ‡æƒŠï¼å‰è¾ˆåŸ‹ç«Ÿç„¶å·å·å…³æ³¨åè¾ˆä¼Šçš„å°å·ï¼"</p>
                                
                                <p>åŸ‹çš„å¿ƒè·³æ¼äº†ä¸€æ‹ã€‚å¥¹ç¡®å®æœ‰å…³æ³¨ä¼Šçš„å°å·ï¼Œä½†é‚£åªæ˜¯å› ä¸ºä¼Šçš„ç”»æŠ€å®åœ¨å¤ªå¥½äº†ï¼Œè®©å¥¹å¿ä¸ä½æƒ³è¦å­¦ä¹ ã€‚æ²¡æƒ³åˆ°è¿™ç«Ÿç„¶è¢«äººå‘ç°äº†ï¼Œè¿˜åšæˆäº†ç“œæ¡ã€‚</p>
                                
                                <p>æ›´è®©å¥¹æƒŠè®¶çš„æ˜¯ï¼Œç“œæ¡ä¸‹é¢ç«Ÿç„¶æœ‰ä¼Šçš„å›å¤ï¼š"å‰è¾ˆå¦‚æœå–œæ¬¢æˆ‘çš„ç”»ï¼Œå¯ä»¥ç›´æ¥å‘Šè¯‰æˆ‘ï¼Œä¸ç”¨å·å·å…³æ³¨ã€‚"</p>
                                
                                <h4>ç¬¬äºŒç« ï¼šæ·±å¤œçš„å¯¹è¯</h4>
                                <p>åŸ‹çŠ¹è±«äº†å¾ˆä¹…ï¼Œæœ€ç»ˆè¿˜æ˜¯ç»™ä¼Šå‘äº†ç§ä¿¡ï¼š"é‚£ä¸ª...ç“œæ¡ä½ çœ‹åˆ°äº†ï¼Ÿ"</p>
                                
                                <p>ä¸åˆ°ä¸€åˆ†é’Ÿï¼Œä¼Šå°±å›å¤äº†ï¼š"çœ‹åˆ°äº†ã€‚å‰è¾ˆçœŸçš„åœ¨å…³æ³¨æˆ‘å—ï¼Ÿ"</p>
                                
                                <p>åŸ‹çš„è„¸ç¬é—´çº¢äº†ï¼Œæ‰‹æŒ‡åœ¨é”®ç›˜ä¸Šåœç•™äº†å¾ˆä¹…ï¼Œç»ˆäºæ‰“å‡ºä¸€è¡Œå­—ï¼š"ä½ çš„ç”»...å¾ˆå¥½çœ‹ã€‚"</p>
                                
                                <p>è¿™æ¬¡ä¼Šè¿‡äº†å‡ åˆ†é’Ÿæ‰å›å¤ï¼š"å‰è¾ˆçš„ç”»æ›´å¥½çœ‹ã€‚æˆ‘ä¸€ç›´...å¾ˆå–œæ¬¢å‰è¾ˆçš„ç”»é£ã€‚"</p>
                                
                                <h4>ç¬¬ä¸‰ç« ï¼šå¿ƒè·³çš„å‘Šç™½</h4>
                                <p>ä»é‚£å¤©èµ·ï¼ŒåŸ‹å’Œä¼Šå¼€å§‹ç»å¸¸èŠå¤©ã€‚å¥¹ä»¬èŠç”»ç”»ï¼ŒèŠç”Ÿæ´»ï¼ŒèŠå¯¹å®¶çš„è¶£äº‹ã€‚åŸ‹å‘ç°ä¼Šå¹¶ä¸åƒè¡¨é¢ä¸Šé‚£ä¹ˆé«˜å†·ï¼Œåè€Œå¾ˆæœ‰è¶£ï¼Œå¾ˆæ¸©æŸ”ã€‚</p>
                                
                                <p>ç›´åˆ°æœ‰ä¸€å¤©ï¼Œä¼Šçªç„¶å‘æ¥ä¸€æ¡æ¶ˆæ¯ï¼š"å‰è¾ˆï¼Œæˆ‘å¯èƒ½è¦æ¯•ä¸šäº†ã€‚"</p>
                                
                                <p>åŸ‹çš„å¿ƒä¸€æ²‰ï¼š"ä¸ºä»€ä¹ˆï¼Ÿ"</p>
                                
                                <p>"å› ä¸º...æˆ‘å‘ç°æˆ‘å¥½åƒå–œæ¬¢ä¸Šå‰è¾ˆäº†ã€‚"ä¼Šçš„å›å¤è®©åŸ‹æ„£ä½äº†ï¼Œ"æˆ‘çŸ¥é“è¿™æ ·ä¸å¯¹ï¼Œæˆ‘ä»¬æ˜¯å¯¹å®¶ï¼Œä½†æˆ‘æ§åˆ¶ä¸ä½è‡ªå·±..."</p>
                                
                                <p>åŸ‹çœ‹ç€å±å¹•ï¼Œå¿ƒè·³å¦‚é¼“ã€‚å¥¹æ·±å¸ä¸€å£æ°”ï¼Œå›å¤é“ï¼š"å…¶å®...æˆ‘ä¹Ÿä¸€ç›´å¾ˆåœ¨æ„ä½ ã€‚"</p>
                                
                                <h4>ç¬¬å››ç« ï¼šç”œèœœçš„çƒ¦æ¼</h4>
                                <p>ä»é‚£ä»¥åï¼Œä¸¤äººçš„å…³ç³»å˜å¾—å¾®å¦™èµ·æ¥ã€‚å¥¹ä»¬è¿˜æ˜¯ä¼šåœ¨å…¬å¼€åœºåˆäº’æ€¼ï¼Œä½†ç§ä¸‹é‡Œå´è¶Šæ¥è¶Šäº²å¯†ã€‚</p>
                                
                                <p>ä¼Šå¼€å§‹ç»™åŸ‹ç”»ä¸“å±çš„å¤´åƒï¼ŒåŸ‹ä¹Ÿä¼šåœ¨ä¼Šç”Ÿç—…æ—¶æé†’å¥¹åƒè¯ã€‚å¥¹ä»¬éƒ½çŸ¥é“è¿™æ®µæ„Ÿæƒ…å¾ˆå±é™©ï¼Œä¸€æ—¦è¢«å‘ç°ï¼Œå¯èƒ½ä¼šå¼•èµ·è½©ç„¶å¤§æ³¢ã€‚</p>
                                
                                <p>ä½†çˆ±æƒ…å°±æ˜¯è¿™æ ·ï¼Œè¶Šæ˜¯å±é™©ï¼Œè¶Šæ˜¯ç”œèœœã€‚</p>
                                
                                <h4>ç¬¬äº”ç« ï¼šæœªæ¥çš„çº¦å®š</h4>
                                <p>æŸä¸ªæ·±å¤œï¼ŒåŸ‹å’Œä¼Šè§†é¢‘é€šè¯ã€‚å±å¹•é‚£å¤´çš„ä¼Šæ˜¾å¾—æœ‰äº›ç´§å¼ ï¼š"å‰è¾ˆï¼Œå¦‚æœ...å¦‚æœæˆ‘ä»¬çš„äº‹è¢«å‘ç°äº†æ€ä¹ˆåŠï¼Ÿ"</p>
                                
                                <p>åŸ‹ç¬‘äº†ç¬‘ï¼š"é‚£å°±æ‰¿è®¤å‘—ã€‚åæ­£...æˆ‘æ—©å°±æƒ³å‘Šè¯‰å¤§å®¶ï¼Œæˆ‘å–œæ¬¢ä½ äº†ã€‚"</p>
                                
                                <p>ä¼Šçš„çœ¼ç›äº®äº†ï¼š"çœŸçš„å—ï¼Ÿ"</p>
                                
                                <p>"å—¯ã€‚"åŸ‹ç‚¹å¤´ï¼Œ"ä¸è¿‡åœ¨é‚£ä¹‹å‰ï¼Œæˆ‘ä»¬å¾—å…ˆæƒ³å¥½æ€ä¹ˆåº”å¯¹é‚£äº›ç“œæ¡ã€‚"</p>
                                
                                <p>ä¸¤äººç›¸è§†è€Œç¬‘ã€‚æ˜¯å•Šï¼Œå¥¹ä»¬çš„çˆ±æƒ…æ•…äº‹ï¼Œæ³¨å®šä¼šå……æ»¡ç“œæ¡å’Œäº‰è®®ã€‚ä½†åªè¦å½¼æ­¤ç›¸çˆ±ï¼Œå°±æ²¡æœ‰ä»€ä¹ˆå¥½æ€•çš„ã€‚</p>
                                
                                <p style="text-align: center; color: #e86a92; font-weight: bold; margin-top: 30px;">
                                    --- æœªå®Œå¾…ç»­ ---<br>
                                    åŸ‹ä¼Šçš„æ•…äº‹ï¼Œæ‰åˆšåˆšå¼€å§‹...
                                </p>
                            </div>
                        </section>
                    </div>
                </div>
                
                <!-- ç¬¬ä¸ƒé¡µï¼šè·‘é…·æ¸¸æˆï¼ˆæ”¹è¿›ç‰ˆï¼šæ”¶é›†é¥¼å¹²ã€æ— é™è·³è·ƒã€æ— é™åœºæ™¯ã€å¯¹è¯æ¡†èŠå¤©ï¼‰ -->
                <div class="tab-content" id="tab7">
                    <h2 class="page-title">é¥¼å¹²æ”¶é›†è·‘é…·æ¸¸æˆ</h2>
                    <div id="parkour-game-container">
                        <div class="game-info-panel">
                            <h3>æ”¶é›†é¥¼å¹²ï¼Œèº²é¿ä¼Šçš„ç“œæ¡ï¼</h3>
                            <p>æ§åˆ¶åŸ‹æ”¶é›†é¥¼å¹²ï¼Œèº²é¿ä¼Šæ‰”è¿‡æ¥çš„ç“œæ¡ï¼æŒ‰ç©ºæ ¼é”®æ— é™è·³è·ƒï¼</p>
                            <div class="game-stats">
                                <div class="game-stat">
                                    <h4>åˆ†æ•°</h4>
                                    <p id="game-score">0</p>
                                </div>
                                <div class="game-stat">
                                    <h4>æœ€é«˜åˆ†</h4>
                                    <p id="game-highscore">0</p>
                                </div>
                                <div class="game-stat">
                                    <h4>æ”¶é›†é¥¼å¹²</h4>
                                    <p id="game-cookies">0</p>
                                </div>
                                <div class="game-stat">
                                    <h4>æ¸¸æˆçŠ¶æ€</h4>
                                    <p id="game-status">ç­‰å¾…å¼€å§‹</p>
                                </div>
                            </div>
                        </div>
                        
                        <div id="game-canvas-container">
                            <canvas id="game-canvas" width="800" height="400"></canvas>
                            <!-- æ¸¸æˆå†…å¯¹è¯æ¡† -->
                            <div id="game-dialog" class="game-dialog">
                                <div id="dialog-speaker" class="dialog-speaker"></div>
                                <p id="dialog-text"></p>
                            </div>
                        </div>
                        
                        <div class="game-controls">
                            <button id="start-game-btn" class="game-btn">å¼€å§‹æ¸¸æˆ</button>
                            <button id="pause-game-btn" class="game-btn secondary">æš‚åœæ¸¸æˆ</button>
                            <button id="restart-game-btn" class="game-btn secondary">é‡æ–°å¼€å§‹</button>
                        </div>
                        
                        <div class="game-instructions">
                            <h4>æ¸¸æˆè¯´æ˜ï¼š</h4>
                            <p>1. æ¸¸æˆç›®æ ‡ï¼šæ§åˆ¶åŸ‹ï¼ˆç²‰è‰²é¥¼å¹²ï¼‰æ”¶é›†é‡‘è‰²é¥¼å¹²ï¼Œèº²é¿ä¼Šï¼ˆç»¿è‰²é¥¼å¹²ï¼‰æ‰”è¿‡æ¥çš„ç“œæ¡</p>
                            <p>2. æ§åˆ¶æ–¹å¼ï¼šæŒ‰<strong>ç©ºæ ¼é”®</strong>è®©åŸ‹æ— é™è·³è·ƒï¼ˆå¯ä»¥ä¸€ç›´æŒ‰ç©ºæ ¼åœ¨ç©ºä¸­è¿ç»­è·³è·ƒï¼‰</p>
                            <p>3. ç§»åŠ¨æ–¹å¼ï¼š<strong>æ–¹å‘é”®/ADé”®</strong>å·¦å³ç§»åŠ¨ï¼Œè§¦æ‘¸/ç‚¹å‡»å±å¹•å·¦å³åŠå±ç§»åŠ¨</p>
                            <p>4. æ¸¸æˆè§„åˆ™ï¼šæ¯æ”¶é›†ä¸€ä¸ªé¥¼å¹²å¾—50åˆ†ï¼Œè¢«ç“œæ¡å‡»ä¸­æŸå¤±1ç”Ÿå‘½ï¼Œå…±3ç”Ÿå‘½</p>
                            <p>5. æ¸¸æˆåœºæ™¯ä¼šæ— é™ç”Ÿæˆï¼Œé¥¼å¹²ä¼šä¸æ–­å‡ºç°ï¼Œå°½é‡æ”¶é›†æ›´å¤šé¥¼å¹²ï¼</p>
                            <p>6. ä¼Šä¼šä¸æ–­è¿½è¸ªä½ å¹¶æ‰”ç“œæ¡ï¼Œå°å¿ƒèº²é¿ï¼</p>
                            <p>7. åœ¨è¿½é€è¿‡ç¨‹ä¸­ï¼ŒåŸ‹å’Œä¼Šä¼šæœ‰ç”œèœœçš„å¯¹è¯å“¦~</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- é¡µè„š -->
        <footer id="footer">
            <div class="container">
                <div class="footer-content">
                    <div class="footer-section">
                        <h3>å…³äºä½œè€…</h3>
                        <p>çˆ±åƒé¥¼å¹²çš„åŸ‹è‡´åŠ›äºåˆ›ä½œæœ€åŠ¨äººçš„æ‹çˆ±æ•…äº‹ï¼Œå¸¦ç»™è¯»è€…å¿ƒè·³åŠ é€Ÿçš„é˜…è¯»ä½“éªŒã€‚</p>
                    </div>
                    <div class="footer-section">
                        <h3>ç½‘ç«™ä¿¡æ¯</h3>
                        <p>ã€Šä½œä¸ºå‰è¾ˆçš„åŸ‹ï¼Œè¢«åè¾ˆä¼Šæš—æ‹ä¸Šäº†ï¼ï¼Ÿï¼ï¼Ÿã€‹</p>
                        <p>å½¢å¼ï¼šHTML5ç½‘ç«™</p>
                        <p>å‘è¡Œæ—¥æœŸï¼š2025å¹´12æœˆ15æ—¥</p>
                    </div>
                    <div class="footer-section">
                        <h3>å…³æ³¨çˆ±åƒé¥¼å¹²çš„åŸ‹</h3>
                        <p>ä»¥è·å–æœ€æ–°ä½œå“ä¿¡æ¯ä¸æ›´æ–°</p>
                        <p>å°çº¢ä¹¦ä¸ªäººä¸»é¡µ:  https://xhslink.com/m/1uUQENJsYrF</p>
                        <p>å“”å“©å“”å“©ä¸ªäººä¸»é¡µï¼š https://b23.tv/b6U7dq3</p>
                        <p>LOFTERä¸ªäººä¸»é¡µï¼š https://xinjinjumin660701183230.lofter.com</p>
                    </div>
                </div>
                <div class="copyright">
                    <p>Â© 2025 çˆ±åƒé¥¼å¹²çš„åŸ‹ ç‰ˆæƒæ‰€æœ‰ | ã€Šä½œä¸ºå‰è¾ˆçš„åŸ‹ï¼Œè¢«åè¾ˆä¼Šæš—æ‹ä¸Šäº†ï¼ï¼Ÿï¼ï¼Ÿã€‹æ˜¯çˆ±åƒé¥¼å¹²çš„åŸ‹åˆ›å»ºçš„è™šæ‹Ÿç½‘ç«™</p>
                </div>
            </div>
        </footer>
    </div> <!-- ç½‘ç«™ä¸»å†…å®¹ç»“æŸ -->
    
    <!-- å›¾ç‰‡å¼¹çª—å®¹å™¨ -->
    <div class="img-modal">
        <span class="close-modal">&times;</span>
        <img class="img-modal-content" id="modal-img">

        <div id="modal-title"></div>
    </div>

    <script>
    // ========== ç½‘ç«™ç™»å½•ä¸æƒé™æ§åˆ¶ç³»ç»Ÿ ==========
    document.addEventListener('DOMContentLoaded', function() {
        console.log("DOMåŠ è½½å®Œæˆï¼Œå¼€å§‹åˆå§‹åŒ–ç™»å½•ç³»ç»Ÿ");
        
        // æ£€æŸ¥æ˜¯å¦å·²ç»ç™»å½•è¿‡
        const isDeveloper = sessionStorage.getItem('isDeveloper') === 'true';
        const hasVisited = sessionStorage.getItem('hasVisited');
        
        console.log("æ£€æŸ¥sessionStorage: hasVisited =", hasVisited, "isDeveloper =", isDeveloper);
        
        // å¦‚æœå·²ç»ç™»å½•è¿‡ï¼ˆæ— è®ºå“ªç§æ¨¡å¼ï¼‰ï¼Œç›´æ¥éšè—ç™»å½•ç•Œé¢
        if (hasVisited) {
            console.log("æ£€æµ‹åˆ°ä¹‹å‰å·²ç™»å½•ï¼Œè·³è¿‡ç™»å½•ç•Œé¢");
            document.getElementById('loginOverlay').style.display = 'none';
            document.getElementById('mainContent').style.display = 'block';
            initAppWithMode(isDeveloper);
            return;
        }
        
        console.log("é¦–æ¬¡è®¿é—®ï¼Œæ˜¾ç¤ºç™»å½•ç•Œé¢");
        
        // ç»‘å®šæ¸¸å®¢æ¨¡å¼æŒ‰é’®
        document.getElementById('guestMode').addEventListener('click', function() {
            console.log("ç‚¹å‡»æ¸¸å®¢æ¨¡å¼æŒ‰é’®");
            enterVisitorMode();
        });
        
        // ç»‘å®šå¼€å‘è€…æ¨¡å¼æŒ‰é’®
        document.getElementById('devModeBtn').addEventListener('click', function() {
            console.log("ç‚¹å‡»å¼€å‘è€…æ¨¡å¼æŒ‰é’®");
            document.getElementById('devPasswordPrompt').style.display = 'block';
            this.style.display = 'none';
            document.getElementById('guestMode').style.display = 'none';
            // è‡ªåŠ¨èšç„¦åˆ°å¯†ç è¾“å…¥æ¡†
            document.getElementById('devPassword').focus();
        });
        
        // ç»‘å®šè¿”å›æŒ‰é’®
        document.getElementById('backToMode').addEventListener('click', function() {
            console.log("ç‚¹å‡»è¿”å›æŒ‰é’®");
            document.getElementById('devPasswordPrompt').style.display = 'none';
            document.getElementById('devModeBtn').style.display = 'block';
            document.getElementById('guestMode').style.display = 'block';
            document.getElementById('passwordError').textContent = '';
        });
        
        // ç»‘å®šå¼€å‘è€…å¯†ç æäº¤
        document.getElementById('submitDevPassword').addEventListener('click', function() {
            console.log("æäº¤å¼€å‘è€…å¯†ç ");
            const password = document.getElementById('devPassword').value;
            const correctPassword = 'æˆ‘æ¥æ‰¾ä¼Šç °ç °ç °äº†~~~';
            
            if (password === correctPassword) {
                console.log("å¯†ç æ­£ç¡®ï¼Œè¿›å…¥å¼€å‘è€…æ¨¡å¼");
                enterDeveloperMode();
            } else {
                console.log("å¯†ç é”™è¯¯");
                document.getElementById('passwordError').textContent = 'å¯†ç ä¸å¯¹å“¦ï¼Œå†æƒ³æƒ³ï¼Ÿ';
                document.getElementById('devPassword').value = '';
                document.getElementById('devPassword').focus();
            }
        });
        
        // å›è½¦é”®æäº¤å¯†ç 
        document.getElementById('devPassword').addEventListener('keyup', function(event) {
            if (event.key === 'Enter') {
                document.getElementById('submitDevPassword').click();
            }
        });
        
        // è¿›å…¥æ¸¸å®¢æ¨¡å¼
        function enterVisitorMode() {
            console.log("è¿›å…¥æ¸¸å®¢æ¨¡å¼");
            sessionStorage.setItem('hasVisited', 'true');
            sessionStorage.setItem('isDeveloper', 'false');
            document.getElementById('loginOverlay').style.display = 'none';
            document.getElementById('mainContent').style.display = 'block';
            initAppWithMode(false);
        }
        
        // è¿›å…¥å¼€å‘è€…æ¨¡å¼
        function enterDeveloperMode() {
            console.log("è¿›å…¥å¼€å‘è€…æ¨¡å¼");
            sessionStorage.setItem('hasVisited', 'true');
            sessionStorage.setItem('isDeveloper', 'true');
            document.getElementById('loginOverlay').style.display = 'none';
            document.getElementById('mainContent').style.display = 'block';
            initAppWithMode(true);
        }
        
        // åˆ‡æ¢æ¨¡å¼æŒ‰é’®åŠŸèƒ½
        document.getElementById('switchModeBtn').addEventListener('click', function() {
            console.log("ç‚¹å‡»åˆ‡æ¢æ¨¡å¼æŒ‰é’®");
            // ç›´æ¥æ¸…é™¤æ‰€æœ‰ä¼šè¯å­˜å‚¨
            sessionStorage.clear();
            
            // éšè—ä¸»å†…å®¹ï¼Œæ˜¾ç¤ºç™»å½•ç•Œé¢
            document.getElementById('mainContent').style.display = 'none';
            document.getElementById('loginOverlay').style.display = 'flex';
            
            // é‡ç½®ç™»å½•ç•Œé¢çŠ¶æ€
            document.getElementById('devPasswordPrompt').style.display = 'none';
            document.getElementById('devModeBtn').style.display = 'block';
            document.getElementById('guestMode').style.display = 'block';
            document.getElementById('passwordError').textContent = '';
            document.getElementById('devPassword').value = '';
        });
        
        // æ ¹æ®æ¨¡å¼åˆå§‹åŒ–åº”ç”¨
        function initAppWithMode(isDev) {
            console.log(`è¿›å…¥${isDev ? 'å¼€å‘è€…' : 'æ¸¸å®¢'}æ¨¡å¼`);
            
            // æ˜¾ç¤ºå¼€å‘è€…æ¨¡å¼æ ‡è®°
            if (isDev) {
                document.getElementById('devModeIndicator').style.display = 'inline-block';
            }
            
            // åˆå§‹åŒ–ç½‘ç«™åŸæœ‰åŠŸèƒ½
            initOriginalFeatures();
            
            // åˆå§‹åŒ–æ–‡ç« ä¸“æ åŠŸèƒ½ï¼ˆä¼ å…¥å¼€å‘è€…æƒé™ï¼‰
            initArticleFeatures(isDev);
            
            // åˆå§‹åŒ–è·‘é…·æ¸¸æˆï¼ˆæ”¹è¿›ç‰ˆï¼šæ”¶é›†é¥¼å¹²ã€æ— é™è·³è·ƒã€æ— é™åœºæ™¯ã€éŸ³æ•ˆã€å¯¹è¯æ¡†ï¼‰
            initParkourGame();
        }
        
        // åˆå§‹åŒ–ç½‘ç«™åŸæœ‰åŠŸèƒ½
        function initOriginalFeatures() {
            console.log("åˆå§‹åŒ–ç½‘ç«™åŸæœ‰åŠŸèƒ½");
            
            // åˆ†é¡µæ ‡ç­¾åˆ‡æ¢åŠŸèƒ½
            document.querySelectorAll('.tab-btn').forEach(button => {
                button.addEventListener('click', function() {
                    // ç§»é™¤æ‰€æœ‰æ ‡ç­¾çš„activeç±»
                    document.querySelectorAll('.tab-btn').forEach(btn => {
                        btn.classList.remove('active');
                    });
                    
                    // éšè—æ‰€æœ‰å†…å®¹
                    document.querySelectorAll('.tab-content').forEach(content => {
                        content.classList.remove('active');
                    });
                    
                    // æ¿€æ´»å½“å‰æ ‡ç­¾
                    this.classList.add('active');
                    
                    // æ˜¾ç¤ºå¯¹åº”å†…å®¹
                    const tabId = this.getAttribute('data-tab');
                    document.getElementById(tabId).classList.add('active');
                    
                    // æ›´æ–°å¯¼èˆªæ çŠ¶æ€
                    updateNavActiveState();
                });
            });
            
            // æ›´æ–°å¯¼èˆªæ çŠ¶æ€
            function updateNavActiveState() {
                const navLinks = document.querySelectorAll('nav a');
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === '#pagination') {
                        link.classList.add('active');
                    }
                });
            }
            
            // å¿ƒåŠ¨è®¡æ•°å™¨äº¤äº’
            const HEART_STORAGE_KEY = 'maiyi_heart_count';
            let heartCount = parseInt(localStorage.getItem(HEART_STORAGE_KEY)) || 0;
            const heartButton = document.getElementById('heart-button');
            const heartDisplay = document.getElementById('heart-display');
            const relationshipStage = document.getElementById('relationship-stage');
            
            // åˆå§‹åŒ–æ˜¾ç¤º
            heartDisplay.textContent = `â¤ï¸ ${heartCount}`;
            
            const stages = [
                {threshold: 0, stage: "åŸ‹å’Œä¼Šä¸€å¼€å§‹æ˜¯ç²‰ä¸ä¸å¥³ç¥"},
                {threshold: 5, stage: "åæ¥ä¸¤äººå¼€å§‹æ³¨æ„åˆ°å¯¹æ–¹"},
                {threshold: 10, stage: "åŸ‹å’Œä¼Šåœ¨bç«™è¯„è®ºåŒºäº¤æµ"},
                {threshold: 20, stage: "ä¼Šæ˜¯åŸ‹çš„å‰å¥³ç¥"},
                {threshold: 30, stage: "ä¼Šçœ‹åˆ°åŸ‹ç‰›æ³¢ä¸€çš„live2dæŠ€æœ¯ï¼Œå¼€å§‹æš—ç”Ÿæƒ…æ„«"},
                {threshold: 40, stage: "åŸ‹å¯Ÿè§‰åˆ°äº†ä¼Šçš„å¿ƒæ„"},
                {threshold: 50, stage: "åŒæ–¹å¼€å§‹è¿›å…¥æš§æ˜§é˜¶æ®µ"},
                {threshold: 70, stage: "å¯æƒœæ˜¯å¯¹å®¶ï¼Œä½†äº’ç›¸å–œæ¬¢"},
                {threshold: 100, stage: "æ‰€ä»¥ä¸¤äººåªèƒ½ç”¨ç“œæ¡ä¹±é£çš„æ–¹å¼æ¥è¡¨è¾¾å¯¹å¯¹æ–¹çš„çˆ±æ„äº†"},
                {threshold: 110, stage: "ä¸¤äººæ—¥å¸¸åœ¨å¤§ç¾¤é‡Œé¢æ‹Œå˜´å¯¹æ–¹"},
                {threshold: 120, stage: "ä¸¤äººåœ¨äº’é—¹å°è„¾æ°”ï¼Œè€Œä¸¤ä½è€å¸ˆéƒ½è®¤è¯†çš„ç²‰ä¸è¦å¼€å¿ƒæ­»äº†"},
                {threshold: 130, stage: "æœ‰äººå‡è£…å’ŒåŸ‹äº’ä¸è®¤è¯†æ¥å‘ç“œæ¡"},
                {threshold: 140, stage: "æŠ–éŸ³ç¥äººäºŒå¹´çº§å°å­¦ç”Ÿcookieç”¨æ²¡æœ‰ä»»ä½•èŠå¤©è¯æ®çš„å¼•æˆ˜ç“œæ¡æ¥æ’®åˆä¸¤äºº"},
                {threshold: 150, stage: "æœ¬æ¥åŸ‹ä¸æƒ³ç†ä¼Šçš„ï¼Œä½†æ˜¯å½“åŸ‹çœ‹åˆ°çˆ±ç¥çš„ç“œæ¡é‡Œé¢æœ‰æåˆ°ä¼Šï¼Œäºæ˜¯åŸ‹è§‰å¾—è¿™æ˜¯ä¼Šå«çˆ±ç¥å‘çš„ç“œæ¡ï¼ŒåŸ‹å¾ˆæ„ŸåŠ¨ï¼Œæƒ³å¿µèµ·äº†ä¼Š"},
                {threshold: 160, stage: "åŸ‹å¤ªæ„ŸåŠ¨äº†ï¼Œäºæ˜¯åœ¨å¤§ç¾¤é‡Œç»™ä¼Šå‘äº†å¥½å¤šå¥½å¤šæ¡ç”µæ£è¯­éŸ³æ¥è¡¨è¾¾åŸ‹å¯¹ä¼Šçš„çˆ±æ„"},
                {threshold: 170, stage: "åŸ‹åœ¨å¤§ç¾¤é‡Œå‘å®Œç”µæ£è¯­éŸ³åè¿˜æ˜¯æ„Ÿè§‰å¾ˆæ„ŸåŠ¨"},
                {threshold: 180, stage: "äºæ˜¯åŸ‹å†³å®šç»™ä¼Šåšä¸€ä¸ªæ‹çˆ±ç½‘ç«™æ¥çºªå¿µå¥¹ä»¬è¿‡å»çš„æ—¥å­"},
                {threshold: 190, stage: "åŸ‹ä¿®æ”¹äº†30å¤šæ¬¡ç½‘ç«™ä»£ç "},
                {threshold: 200, stage: "åŸ‹ç»ˆäºåšå¥½æ‹çˆ±ç½‘ç«™äº†ï¼"},
            ];
            
            // åˆå§‹åŒ–æ—¶æ›´æ–°é˜¶æ®µæ˜¾ç¤º
            function updateHeartStage() {
                let currentStage = stages[0].stage;
                for (let i = stages.length - 1; i >= 0; i--) {
                    if (heartCount >= stages[i].threshold) {
                        currentStage = stages[i].stage;
                        break;
                    }
                }
                relationshipStage.textContent = currentStage;
            }
            
            // åˆå§‹æ›´æ–°é˜¶æ®µ
            updateHeartStage();
            
            heartButton.addEventListener('click', function() {
                heartCount++;
                heartDisplay.textContent = `â¤ï¸ ${heartCount}`;
                
                // ä¿å­˜åˆ°localStorage
                localStorage.setItem(HEART_STORAGE_KEY, heartCount.toString());
                
                // æ›´æ–°å…³ç³»é˜¶æ®µ
                updateHeartStage();
                
                // æ·»åŠ åŠ¨ç”»æ•ˆæœ
                heartDisplay.style.transform = 'scale(1.2)';
                setTimeout(() => {
                    heartDisplay.style.transform = 'scale(1)';
                }, 200);
                
                // æ¯10æ¬¡æ˜¾ç¤ºç‰¹åˆ«æ¶ˆæ¯
                if (heartCount % 10 === 0) {
                    const messages = [
                        "ä¼Šçš„å¿ƒè·³åŠ é€Ÿäº†ï¼",
                        "åŸ‹å¼€å§‹æ³¨æ„åˆ°ä¼Šçš„ä¸åŒ",
                        "ä¸¤äººçš„è·ç¦»åˆè¿‘äº†ä¸€æ­¥",
                        "ç¤¾ç¾¤çš„æ°”æ°›å˜å¾—å¾®å¦™",
                        "ç“œæ¡æ­£åœ¨åˆ°å¤„ä¹±é£",
                        "ä¼Šæ­£åœ¨å’Œç²‰ä¸é—¹åˆ«æ‰­",
                        "åŸ‹æ­£åœ¨è¢«æ±‚å©šï¼",
                        "åŸ‹æ­£åœ¨ç»™ä¼Šåˆ¶ä½œç²¾ç¾æ¢—å›¾",
                        "ä¼Šè§‰å¾—å¯¹å®¶å¥³ç¥æƒ³å’Œè‡ªå·±ç °ç °ç °",
                        "ä¼Šå®³ç¾è•´å«çš„åœ¨å°çº¢ä¹¦å¸–å­ã€Šé»‘æ˜¥1çš„æƒŠå¤©åœ°æ³£é¬¼ç¥ã€‹ç®€ä»‹é‡Œè¯´\"exr\"ï¼ˆæ¶å¿ƒäººï¼‰ï¼ˆä¸å¯èƒ½æ˜¯åˆ«äººï¼Œåªèƒ½æ˜¯åŸ‹äº†ï¼‰æˆ‘ä¼šä¸€ç›´ç›¯ç€ä½ çš„",
                        "åŸ‹çœ‹åˆ°ç“œæ¡å¼€å§‹å˜çš„å®³ç¾äº†ï¼æ›´æƒ³ç °ç °ç °ä¼Šäº†",
                        "åŸ‹è¢«åˆ°å¤„é£çš„ç“œæ¡å®³ç¾åˆ°äº†ï¼äºæ˜¯åšäº†æ‹çˆ±ç½‘ç«™~~~"
                    ];
                    const randomMessage = messages[Math.floor(Math.random() * messages.length)];
                    alert(`ç‰¹åˆ«äº‹ä»¶ï¼š${randomMessage}`);
                }
            });
            
            // å¹³æ»‘æ»šåŠ¨å¯¼èˆª
            document.querySelectorAll('nav a').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    
                    if (targetId === '#home' || targetId === '#footer') {
                        const targetElement = document.querySelector(targetId);
                        
                        window.scrollTo({
                            top: targetElement.offsetTop - 80,
                            behavior: 'smooth'
                        });
                        
                        // æ›´æ–°å¯¼èˆªæ çŠ¶æ€
                        const navLinks = document.querySelectorAll('nav a');
                        navLinks.forEach(link => {
                            link.classList.remove('active');
                        });
                        this.classList.add('active');
                    } else if (targetId === '#pagination') {
                        // æ»šåŠ¨åˆ°åˆ†é¡µéƒ¨åˆ†
                        const targetElement = document.querySelector(targetId);
                        
                        window.scrollTo({
                            top: targetElement.offsetTop - 80,
                            behavior: 'smooth'
                        });
                        
                        // æ›´æ–°å¯¼èˆªæ çŠ¶æ€
                        const navLinks = document.querySelectorAll('nav a');
                        navLinks.forEach(link => {
                            link.classList.remove('active');
                        });
                        this.classList.add('active');
                        
                        // æ¿€æ´»ç¬¬ä¸€ä¸ªæ ‡ç­¾é¡µ
                        setTimeout(() => {
                            document.querySelectorAll('.tab-btn').forEach(btn => {
                                btn.classList.remove('active');
                            });
                            document.querySelectorAll('.tab-content').forEach(content => {
                                content.classList.remove('active');
                            });
                            
                            document.querySelector('.tab-btn[data-tab="tab1"]').classList.add('active');
                            document.getElementById('tab1').classList.add('active');
                        }, 500);
                    }
                });
            });
            
            // é¡µé¢åŠ è½½åŠ¨ç”»
            document.body.style.opacity = '0';
            document.body.style.transition = 'opacity 0.8s';
            setTimeout(() => {
                document.body.style.opacity = '1';
            }, 100);
        }
        
        // åˆå§‹åŒ–æ–‡ç« ä¸“æ åŠŸèƒ½
        function initArticleFeatures(isDeveloperMode) {
            console.log("åˆå§‹åŒ–æ–‡ç« ä¸“æ åŠŸèƒ½ï¼Œå¼€å‘è€…æ¨¡å¼:", isDeveloperMode);
            
            // 1. å›¾ç‰‡å¼¹çª—åŠŸèƒ½
            const imgModal = document.querySelector('.img-modal');
            const modalImg = document.getElementById('modal-img');
            const modalTitle = document.getElementById('modal-title');
            const closeModal = document.querySelector('.close-modal');
            
            // ä¸ºæ‰€æœ‰å›¾ç‰‡æ’å…¥ç‚¹ç»‘å®šç‚¹å‡»äº‹ä»¶
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('img-insert-point')) {
                    const imgSrc = e.target.getAttribute('data-img');
                    const title = e.target.getAttribute('data-title');
                    modalImg.src = imgSrc;
                    modalTitle.textContent = title;
                    imgModal.style.display = 'block';
                }
            });
            closeModal.onclick = function() { imgModal.style.display = 'none'; };
            window.onclick = function(event) { if (event.target == imgModal) { imgModal.style.display = 'none'; } };
            
            // 2. æ”¹è¿›çš„è¥¿ç“œäº’åŠ¨ç³»ç»Ÿ
            const watermelon = document.getElementById('clickable-watermelon');
            const whackCountEl = document.getElementById('whack-count');
            const watermelonStageEl = document.getElementById('watermelon-stage');
            
            // è¥¿ç“œäº’åŠ¨é˜¶æ®µå®šä¹‰
            const watermelonStages = [
                {threshold: 0, stage: "å¯¹ç“œæ¡æ— æ„Ÿ", message: "ç‚¹å‡»è¥¿ç“œæ¥è¡¨è¾¾ä½ å¯¹ç“œæ¡çš„æ€åº¦å§ï¼"},
                {threshold: 5, stage: "æœ‰ç‚¹å¥½å¥‡", message: "å¼€å§‹å¯¹ç“œæ¡äº§ç”Ÿå…´è¶£äº†ï¼"},
                {threshold: 10, stage: "ç“œæ¡è§‚å¯Ÿè€…", message: "ä½ å¼€å§‹å…³æ³¨ç“œæ¡äº†ï¼"},
                {threshold: 20, stage: "ç“œæ¡çˆ±å¥½è€…", message: "ä½ å·²ç»æˆä¸ºç“œæ¡çš„å¿ å®è§‚ä¼—ï¼"},
                {threshold: 30, stage: "ç“œæ¡åˆ†æå¸ˆ", message: "ä½ å¼€å§‹åˆ†æç“œæ¡èƒŒåçš„æ•…äº‹äº†ï¼"},
                {threshold: 40, stage: "ç“œæ¡ä¼ æ’­è€…", message: "ä½ å¶å°”ä¼šåˆ†äº«æœ‰è¶£çš„ç“œæ¡ï¼"},
                {threshold: 50, stage: "ç“œæ¡è¾¾äºº", message: "ä½ å¯¹ç“œæ¡äº†å¦‚æŒ‡æŒï¼"},
                {threshold: 60, stage: "ç“œæ¡æˆ˜å£«", message: "ä½ ä¼šä¸ºå–œæ¬¢çš„ç“œæ¡è¾©æŠ¤ï¼"},
                {threshold: 70, stage: "ç“œæ¡å¤§å¸ˆ", message: "ä½ å·²ç»ç²¾é€šç“œæ¡æ–‡åŒ–ï¼"},
                {threshold: 80, stage: "ç“œæ¡ä¹‹ç‹/å", message: "ä½ æ˜¯ç“œæ¡ç•Œçš„ä¼ å¥‡äººç‰©ï¼"},
                {threshold: 90, stage: "ç“œæ¡ä¹‹ç¥", message: "ä½ åˆ›é€ äº†æ–°çš„ç“œæ¡ä¼ å¥‡ï¼"},
                {threshold: 100, stage: "è¶…è¶Šç“œæ¡çš„å­˜åœ¨", message: "ä½ å·²ç»è¶…è¶Šäº†ç“œæ¡æœ¬èº«ï¼"}
            ];
            
            // è¥¿ç“œç‚¹å‡»æ—¶çš„å¼¹çª—æ¶ˆæ¯
            const watermelonMessages = [
                "è¥¿ç“œçœŸç”œï¼å°±åƒçœ‹åˆ°æœ‰è¶£çš„ç“œæ¡ä¸€æ ·~",
                "å’”åš“ï¼è¥¿ç“œè£‚å¼€çš„å£°éŸ³å°±åƒç“œæ¡çˆ†æ–™çš„å£°éŸ³ï¼",
                "è¥¿ç“œç±½å°±åƒç“œæ¡ä¸­çš„å°ç»†èŠ‚ï¼Œä»”ç»†çœ‹æ‰æœ‰æ„æ€ï¼",
                "å¤å¤©çš„è¥¿ç“œï¼Œå†¬å¤©çš„ç“œæ¡ï¼Œéƒ½æ˜¯è§£é—·çš„å¥½ä¸œè¥¿ï¼",
                "è¿™å—è¥¿ç“œçœŸçº¢ï¼Œå°±åƒç«çˆ†çš„ç“œæ¡ä¸€æ ·ï¼",
                "è¥¿ç“œæ±æ»´ä¸‹æ¥äº†ï¼Œå°±åƒç“œæ¡ä¿¡æ¯æ…¢æ…¢æ³„éœ²å‡ºæ¥~",
                "è¿™å—è¥¿ç“œç‰¹åˆ«ç”œï¼Œå°±åƒç‰¹åˆ«ç²¾å½©çš„ç“œæ¡ï¼",
                "è¥¿ç“œçš®å¯ä»¥é›•èŠ±ï¼Œç“œæ¡ä¹Ÿå¯ä»¥åŠ å·¥æˆæ•…äº‹ï¼",
                "æ— ç±½è¥¿ç“œå°±åƒæ²¡æœ‰åç»­çš„ç“œæ¡ï¼Œå°‘äº†ç‚¹ä¹è¶£ï¼",
                "å†°é•‡è¥¿ç“œå°±åƒå†·é™åƒç“œï¼Œä¿æŒç†æ€§ï¼"
            ];
            
            let whackCount = parseInt(localStorage.getItem('watermelonWhacks')) || 0;
            whackCountEl.textContent = whackCount;
            
            // æ ¹æ®ç‚¹å‡»æ¬¡æ•°æ›´æ–°é˜¶æ®µ
            function updateWatermelonStage() {
                let currentStage = watermelonStages[0].stage;
                for (let i = watermelonStages.length - 1; i >= 0; i--) {
                    if (whackCount >= watermelonStages[i].threshold) {
                        currentStage = watermelonStages[i].stage;
                        break;
                    }
                }
                watermelonStageEl.textContent = currentStage;
            }
            
            // åˆå§‹åŒ–é˜¶æ®µæ˜¾ç¤º
            updateWatermelonStage();
            
            watermelon.addEventListener('click', function() {
                whackCount++;
                whackCountEl.textContent = whackCount;
                localStorage.setItem('watermelonWhacks', whackCount);
                
                // æ›´æ–°é˜¶æ®µ
                updateWatermelonStage();
                
                // æ·»åŠ ç‚¹å‡»åŠ¨ç”»
                this.style.transform = 'scale(0.9)';
                setTimeout(() => { this.style.transform = 'scale(1)'; }, 200);
                
                // æ¯5æ¬¡ç‚¹å‡»æ˜¾ç¤ºéšæœºæ¶ˆæ¯
                if (whackCount % 5 === 0) {
                    const randomMessage = watermelonMessages[Math.floor(Math.random() * watermelonMessages.length)];
                    alert(`ğŸ‰ è¥¿ç“œæ¶ˆæ¯ï¼š${randomMessage}`);
                }
                
                // è¾¾åˆ°ç‰¹å®šé‡Œç¨‹ç¢‘æ˜¾ç¤ºç‰¹æ®Šæ¶ˆæ¯
                const milestones = [10, 25, 50, 75, 100];
                if (milestones.includes(whackCount)) {
                    let milestoneMessage = "";
                    switch(whackCount) {
                        case 10:
                            milestoneMessage = "æ­å–œï¼ä½ ç‚¹å‡»è¥¿ç“œ10æ¬¡ï¼Œæ­£å¼æˆä¸ºç“œæ¡è§‚å¯Ÿè€…ï¼";
                            break;
                        case 25:
                            milestoneMessage = "å“‡ï¼25æ¬¡ç‚¹å‡»ï¼ä½ å¯¹ç“œæ¡çš„çƒ­æƒ…å°±åƒè¥¿ç“œä¸€æ ·ç”œï¼";
                            break;
                        case 50:
                            milestoneMessage = "é‡Œç¨‹ç¢‘ï¼50æ¬¡ç‚¹å‡»ï¼ä½ å·²ç»è¾¾åˆ°ç“œæ¡è¾¾äººå¢ƒç•Œï¼";
                            break;
                        case 75:
                            milestoneMessage = "æƒŠäººï¼75æ¬¡ç‚¹å‡»ï¼ç“œæ¡å¤§å¸ˆéä½ è«å±ï¼";
                            break;
                        case 100:
                            milestoneMessage = "ä¼ å¥‡ï¼100æ¬¡ç‚¹å‡»ï¼ä½ å·²ç»è¶…è¶Šäº†ç“œæ¡æœ¬èº«ï¼è·å¾—ã€Œè¥¿ç“œæˆ˜ç¥ã€ç§°å·ï¼";
                            break;
                    }
                    setTimeout(() => { alert(`ğŸ‰ é‡Œç¨‹ç¢‘è¾¾æˆï¼\n${milestoneMessage}`); }, 300);
                }
            });
            
            // 3. åŒ¿åæé—®ç³»ç»Ÿ (ä½¿ç”¨localStorageæŒä¹…åŒ–) - å¼€å‘è€…æ¨¡å¼ä¸‹å¯ç¼–è¾‘/åˆ é™¤
            const STORAGE_KEY = 'maiyi_questions_v3';
            let questions = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
            
            // éšæœºç”Ÿæˆæé—®è€…åå­—
            function generateRandomName() {
                const adjectives = ['å®³ç¾çš„', 'å¥½å¥‡çš„', 'è·¯è¿‡çš„', 'åƒç“œçš„', 'æ¿€åŠ¨çš„', 'éšèº«çš„', 'å†’æ³¡çš„'];
                const nouns = ['é¥¼å¹²', 'ç½‘å‹', 'ç²‰ä¸', 'è·¯äººç”²', 'å°é€æ˜', 'æ½œæ°´å‘˜', 'çŒ¹'];
                return adjectives[Math.floor(Math.random() * adjectives.length)] + nouns[Math.floor(Math.random() * nouns.length)];
            }
            
            // æ¸²æŸ“é—®é¢˜åˆ—è¡¨
            function renderQuestions() {
                const container = document.getElementById('questions-list');
                if (questions.length === 0) {
                    container.innerHTML = '<p>è¿˜æ²¡æœ‰é—®é¢˜ï¼Œå¿«æ¥æé—®å§ï¼</p>';
                    return;
                }
                container.innerHTML = questions.map((q, qIndex) => `
                    <div class="single-question" data-qid="${qIndex}">
                        <div class="question-header">
                            <span class="questioner">${q.author}</span>
                            <span class="question-time">${q.time}</span>
                            ${isDeveloperMode ? `<span class="delete-question-btn" onclick="window.deleteQuestion(${qIndex})"><i class="fas fa-trash-alt"></i> åˆ é™¤é—®é¢˜</span>` : ''}
                        </div>
                        <div class="question-content" id="question-content-${qIndex}" contenteditable="${isDeveloperMode}" data-original="${q.content}">
                            ${q.content}
                        </div>
                        ${isDeveloperMode ? `<button onclick="window.saveQuestionEdit(${qIndex})" style="background:#2ecc71; color:white; border:none; padding:5px 10px; border-radius:5px; margin-bottom:10px;">ä¿å­˜ä¿®æ”¹</button>` : ''}
                        <div class="question-actions">
                            <span class="like-btn ${q.liked ? 'liked' : ''}" onclick="window.toggleLike(${qIndex})">
                                <i class="fas fa-heart"></i> <span class="like-count">${q.likes || 0}</span>
                            </span>
                            <span class="comment-btn" onclick="window.toggleComment(${qIndex})">
                                <i class="fas fa-comment"></i> è¯„è®º(${q.comments ? q.comments.length : 0})
                            </span>
                        </div>
                        <div class="comments-section" id="comments-${qIndex}" style="display:none;">
                            ${(q.comments || []).map((c, cIndex) => `
                                <div class="single-comment">
                                    <span><strong>${c.author}</strong>: <span id="comment-content-${qIndex}-${cIndex}" contenteditable="${isDeveloperMode}" data-original="${c.content}">${c.content}</span></span>
                                    ${isDeveloperMode ? `
                                        <div>
                                            <span class="edit-comment-btn" onclick="window.saveCommentEdit(${qIndex}, ${cIndex})"><i class="fas fa-save"></i> ä¿å­˜</span>
                                            <span class="delete-comment-btn" onclick="window.deleteComment(${qIndex}, ${cIndex})"><i class="fas fa-trash-alt"></i></span>
                                        </div>
                                    ` : ''}
                                </div>
                            `).join('')}
                            <div class="new-comment">
                                <input type="text" id="comment-input-${qIndex}" placeholder="å†™ä¸‹ä½ çš„è¯„è®º...">
                                <button onclick="window.submitComment(${qIndex})">å‘é€</button>
                            </div>
                        </div>
                    </div>
                `).join('');
            }
            
            // æäº¤æ–°é—®é¢˜
            document.getElementById('submit-question').addEventListener('click', function() {
                const textarea = document.getElementById('new-question-text');
                const content = textarea.value.trim();
                if (!content) return alert('é—®é¢˜å†…å®¹ä¸èƒ½ä¸ºç©ºå“¦~');
                const newQuestion = {
                    content: content,
                    author: generateRandomName(),
                    time: new Date().toLocaleDateString('zh-CN') + ' ' + new Date().toLocaleTimeString('zh-CN', {hour: '2-digit', minute:'2-digit'}),
                    likes: 0,
                    liked: false,
                    comments: []
                };
                questions.unshift(newQuestion); // æ–°é—®é¢˜æ”¾åœ¨æœ€å‰é¢
                localStorage.setItem(STORAGE_KEY, JSON.stringify(questions));
                renderQuestions();
                textarea.value = ''; // æ¸…ç©ºè¾“å…¥æ¡†
            });
            
            // ç‚¹èµåŠŸèƒ½
            window.toggleLike = function(qIndex) {
                const question = questions[qIndex];
                question.liked = !question.liked;
                question.likes = (question.likes || 0) + (question.liked ? 1 : -1);
                localStorage.setItem(STORAGE_KEY, JSON.stringify(questions));
                renderQuestions();
            };
            
            // å±•å¼€/æ”¶èµ·è¯„è®º
            window.toggleComment = function(qIndex) {
                const commentSection = document.getElementById(`comments-${qIndex}`);
                commentSection.style.display = commentSection.style.display === 'none' ? 'block' : 'none';
            };
            
            // æäº¤è¯„è®º
            window.submitComment = function(qIndex) {
                const input = document.getElementById(`comment-input-${qIndex}`);
                const content = input.value.trim();
                if (!content) return;
                if (!questions[qIndex].comments) questions[qIndex].comments = [];
                questions[qIndex].comments.push({
                    author: generateRandomName(),
                    content: content
                });
                localStorage.setItem(STORAGE_KEY, JSON.stringify(questions));
                renderQuestions();
                input.value = '';
            };
            
            // åˆ é™¤è¯„è®ºï¼ˆä»…å¼€å‘è€…ï¼‰
            window.deleteComment = function(qIndex, cIndex) {
                if (confirm('ç¡®å®šè¦åˆ é™¤è¿™æ¡è¯„è®ºå—ï¼Ÿ')) {
                    questions[qIndex].comments.splice(cIndex, 1);
                    localStorage.setItem(STORAGE_KEY, JSON.stringify(questions));
                    renderQuestions();
                }
            };
            
            // ä¿å­˜è¯„è®ºç¼–è¾‘ï¼ˆä»…å¼€å‘è€…ï¼‰
            window.saveCommentEdit = function(qIndex, cIndex) {
                const commentElement = document.getElementById(`comment-content-${qIndex}-${cIndex}`);
                const newContent = commentElement.textContent.trim();
                if (!newContent) return alert('è¯„è®ºå†…å®¹ä¸èƒ½ä¸ºç©ºï¼');
                questions[qIndex].comments[cIndex].content = newContent;
                localStorage.setItem(STORAGE_KEY, JSON.stringify(questions));
                renderQuestions();
            };
            
            // åˆ é™¤é—®é¢˜ï¼ˆä»…å¼€å‘è€…ï¼‰
            window.deleteQuestion = function(qIndex) {
                if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªé—®é¢˜å—ï¼Ÿ')) {
                    questions.splice(qIndex, 1);
                    localStorage.setItem(STORAGE_KEY, JSON.stringify(questions));
                    renderQuestions();
                }
            };
            
            // ä¿å­˜é—®é¢˜ç¼–è¾‘ï¼ˆä»…å¼€å‘è€…ï¼‰
            window.saveQuestionEdit = function(qIndex) {
                const questionElement = document.getElementById(`question-content-${qIndex}`);
                const newContent = questionElement.textContent.trim();
                if (!newContent) return alert('é—®é¢˜å†…å®¹ä¸èƒ½ä¸ºç©ºï¼');
                questions[qIndex].content = newContent;
                localStorage.setItem(STORAGE_KEY, JSON.stringify(questions));
                renderQuestions();
            };
            
            // åˆå§‹åŒ–æ—¶æ¸²æŸ“é—®é¢˜åˆ—è¡¨
            renderQuestions();
            
            // 4. CPå®˜æ–‡å¯†ç éªŒè¯
            document.getElementById('unlock-fanfic').addEventListener('click', function() {
                const input = document.getElementById('fanfic-password');
                const hint = document.getElementById('password-hint');
                if (input.value === 'åŸ‹ä¼Š99') {
                    document.querySelector('.fanfic-content').style.display = 'block';
                    document.querySelector('.password-prompt').style.display = 'none';
                    hint.textContent = '';
                    // æ·»åŠ è§£é”æˆåŠŸåŠ¨ç”»
                    document.querySelector('.locked-column h3').innerHTML = '<i class="fas fa-unlock"></i> åŸ‹ä¼ŠCPå®˜æ–‡ <small>(å·²è§£é”)</small>';
                    document.querySelector('.locked-column h3').style.color = '#2ecc71';
                } else {
                    hint.textContent = 'å¯†ç é”™è¯¯ï¼Œå†æƒ³æƒ³ï¼Ÿ';
                    input.value = '';
                }
            });
            
            // å›è½¦é”®è§£é”
            document.getElementById('fanfic-password').addEventListener('keyup', function(event) {
                if (event.key === 'Enter') {
                    document.getElementById('unlock-fanfic').click();
                }
            });
            
            // 5. åˆå§‹åŒ–åŸ‹ä¼ŠCPæ–‡æŠ•ç¨¿å±•ç¤º
            initSubmissionDisplay();
        }
        
        function initSubmissionDisplay() {
            console.log("åˆå§‹åŒ–åŸ‹ä¼ŠCPæ–‡æŠ•ç¨¿å±•ç¤º");
            // æ¨¡æ‹ŸæŠ•ç¨¿æ•°æ®ï¼ˆå®é™…åº”ç”¨ä¸­å¯ä»¥ä»æœåŠ¡å™¨è·å–ï¼‰
            const submissionsData = [
                {
                    rank: 1,
                    author: "æš—æ‹ä¼Šçš„å°é¥¼å¹²",
                    title: "å‰è¾ˆçš„å¥¶èŒ¶åˆ†æˆ‘ä¸€åŠ",
                    content: "é‚£æ˜¯æˆ‘ä»¬ç¬¬ä¸€æ¬¡è¯´è¯ï¼Œå‰è¾ˆé€’ç»™æˆ‘åŠæ¯å¥¶èŒ¶ï¼Œè¯´ã€åˆ†ä½ ä¸€åŠã€ã€‚æˆ‘çš„å¿ƒè·³æ¼äº†ä¸€æ‹ï¼Œä¸æ˜¯å› ä¸ºå¥¶èŒ¶çš„ç”œï¼Œè€Œæ˜¯å› ä¸ºå‰è¾ˆå¾®ç¬‘æ—¶çœ¼é‡Œçš„å…‰...ä»é‚£å¤©èµ·ï¼Œæˆ‘å¼€å§‹æ”¶é›†å‰è¾ˆçš„ä¸€åˆ‡ï¼Œæ¯ä¸€å¹…ç”»ï¼Œæ¯ä¸€å¥è¯ï¼Œæ¯ä¸€ä¸ªå¾®ç¬‘ã€‚æˆ‘çŸ¥é“è¿™æ ·å¾ˆå‚»ï¼Œä½†å‰è¾ˆå°±åƒé˜³å…‰ï¼Œè®©æˆ‘å¿ä¸ä½æƒ³é è¿‘ã€‚",
                    likes: 520,
                    comments: 131,
                    date: "2025-12-14",
                    score: 98
                },
                {
                    rank: 2,
                    author: "å½±å­é‡Œçš„é¦™è‰",
                    title: "æ·±å¤œçš„ç °ç °ç °",
                    content: "å‡Œæ™¨ä¸¤ç‚¹ï¼Œå‰è¾ˆçªç„¶å‘æ¥æ¶ˆæ¯ï¼šã€åœ¨å—ï¼Ÿé™ªæˆ‘ç °ç °ç °åˆ°å¤©äº®ã€‚ã€é‚£æ™šæˆ‘ä»¬èŠäº†å¾ˆå¤šï¼Œä»ç”»é£åˆ°äººç”Ÿï¼Œä»å¯¹å®¶åˆ°CPã€‚å‰è¾ˆè¯´ï¼šã€å…¶å®æˆ‘çŸ¥é“ä½ ä¸€ç›´åœ¨çœ‹æˆ‘ã€‚ã€æˆ‘æ„£ä½äº†ï¼ŒåŸæ¥æˆ‘çš„å°å¿ƒæ€æ—©å°±è¢«å‘ç°äº†ã€‚å‰è¾ˆåˆè¯´ï¼šã€æˆ‘ä¹Ÿä¸€ç›´åœ¨æ³¨æ„ä½ ã€‚ã€é‚£ä¸€åˆ»ï¼Œå‡Œæ™¨çš„å¤©ç©ºçªç„¶å˜å¾—å¦‚æ­¤ç¾ä¸½...",
                    likes: 419,
                    comments: 89,
                    date: "2025-12-12",
                    score: 92
                },
                {
                    rank: 3,
                    author: "ç™½å¥¶æ¿€æ¨bot",
                    title: "å¯¹å®¶çš„å¿ƒåŠ¨ç¬é—´",
                    content: "æ˜æ˜æ˜¯å¯¹å®¶ï¼Œä¸ºä»€ä¹ˆçœ‹åˆ°å‰è¾ˆçš„ç”»ä¼šå¿ƒè·³åŠ é€Ÿï¼Ÿä¸ºä»€ä¹ˆä¼šåœ¨æ„å‰è¾ˆçš„æ¯ä¸€ä¸ªåŠ¨æ€ï¼Ÿé‚£å¤©çœ‹åˆ°å‰è¾ˆå‘äº†ä¸€æ¡åŠ¨æ€ï¼šã€ä»Šå¤©ä¹Ÿæƒ³åƒé¥¼å¹²ã€‚ã€æˆ‘ç«‹åˆ»è·‘å»ä¹°äº†å„ç§é¥¼å¹²ï¼Œå´ä¸æ•¢é€ç»™å‰è¾ˆã€‚è¿™ä»½æ„Ÿæƒ…ï¼Œå°±åƒå·å·è—åœ¨å¿ƒåº•çš„ç³–æœï¼Œæ—¢ç”œèœœåˆè‹¦æ¶©ã€‚ä½†æˆ‘çŸ¥é“ï¼Œæˆ‘å·²ç»é™·è¿›å»äº†ï¼Œæ— æ³•è‡ªæ‹”ã€‚",
                    likes: 367,
                    comments: 77,
                    date: "2025-12-10",
                    score: 88
                },
                {
                    rank: 4,
                    author: "ç“œæ¡è®°å½•å‘˜",
                    title: "å…³äºæš—æ‹çš„100ä»¶å°äº‹",
                    content: "1.å·å·æ”¶è—å‰è¾ˆæ‰€æœ‰çš„ç”»ã€‚2.æ¯å¤©ç¿»çœ‹å‰è¾ˆçš„åŠ¨æ€è‡³å°‘10æ¬¡ã€‚3.å‡è£…ä¸ç»æ„åœ°å‡ºç°åœ¨å‰è¾ˆçš„ç›´æ’­é—´ã€‚4.è®°ä½å‰è¾ˆå–œæ¬¢çš„æ¯ä¸€ç§é¥¼å¹²ã€‚5.å­¦å‰è¾ˆçš„ç”»é£ï¼Œåªä¸ºäº†æ›´é è¿‘ä¸€ç‚¹ã€‚6.å†™ç“œæ¡æ—¶å·å·å¤¹å¸¦ç§è´§ã€‚7.çœ‹åˆ°å‰è¾ˆç‚¹èµä¼šå¼€å¿ƒä¸€æ•´å¤©...åŸæ¥æš—æ‹ä¸€ä¸ªäººï¼Œä¼šè®©è‡ªå·±å˜å¾—å¦‚æ­¤å‘å¾®åˆå¦‚æ­¤å‹‡æ•¢ã€‚",
                    likes: 314,
                    comments: 66,
                    date: "2025-12-08",
                    score: 85
                },
                {
                    rank: 5,
                    author: "é¦™å½±æ´ç™–æ‚£è€…",
                    title: "å‰è¾ˆçš„æ¸©æŸ”é™·é˜±",
                    content: "å‰è¾ˆæ€»æ˜¯é‚£ä¹ˆæ¸©æŸ”ï¼Œå¯¹æ¯ä¸ªäººéƒ½å¾ˆå¥½ã€‚å¯æˆ‘åªæƒ³è¦å‰è¾ˆçš„ä¸“å±æ¸©æŸ”ã€‚é‚£å¤©å‰è¾ˆå¯¹æˆ‘è¯´ï¼šã€ä½ æ˜¯ä¸ä¸€æ ·çš„ã€‚ã€æˆ‘æ„£äº†å¥½ä¹…ï¼Œçœ¼æ³ªä¸äº‰æ°”åœ°æ‰ä¸‹æ¥ã€‚è¿™ä»½è´ªå¿ƒï¼Œè®©æˆ‘åœ¨æ·±å¤œè¾—è½¬åä¾§ï¼Œåœ¨ç“œæ¡é‡Œå†™ä¸‹ä¸æ•¢è¯´å‡ºå£çš„è¯ã€‚ä½†å‰è¾ˆçš„æ¸©æŸ”å°±åƒé™·é˜±ï¼Œæˆ‘æ˜çŸ¥é“å±é™©ï¼Œè¿˜æ˜¯ä¹‰æ— åé¡¾åœ°è·³äº†è¿›å»ã€‚",
                    likes: 289,
                    comments: 58,
                    date: "2025-12-06",
                    score: 82
                },
                {
                    rank: 6,
                    author: "å†›paç§è®¾çˆ±å¥½è€…",
                    title: "å¹³è¡Œä¸–ç•Œçš„æˆ‘ä»¬",
                    content: "åœ¨æˆ‘çš„ç§è®¾é‡Œï¼Œå‰è¾ˆæ˜¯æ¸©æŸ”çš„å†›å®˜ï¼Œæˆ‘æ˜¯å€”å¼ºçš„æ–°å…µã€‚åœ¨è®­ç»ƒåœºä¸Šè¢«ä½ è®­æ–¥ï¼Œåœ¨æˆ˜åœºä¸Šè¢«ä½ ä¿æŠ¤ã€‚ç°å®ä¸­çš„æˆ‘ä¸æ•¢é è¿‘ï¼Œåªèƒ½åœ¨è®¾å®šé‡Œä¸ä½ å¹¶è‚©ã€‚é‚£å¤©æˆ‘æŠŠè®¾å®šå‘ç»™å‰è¾ˆçœ‹ï¼Œå‰è¾ˆå›å¤ï¼šã€å¾ˆæ£’çš„è®¾å®šï¼Œæˆ‘ä»¬å¯ä»¥ä¸€èµ·å®Œå–„å®ƒå—ï¼Ÿã€æˆ‘æ¿€åŠ¨å¾—å“­äº†ï¼ŒåŸæ¥å¹³è¡Œä¸–ç•Œçš„æˆ‘ä»¬ï¼Œä¹Ÿèƒ½åœ¨ç°å®ä¸­æœ‰äº¤é›†ã€‚",
                    likes: 256,
                    comments: 52,
                    date: "2025-12-04",
                    score: 79
                },
                {
                    rank: 7,
                    author: "æ·±å¤œçŒ¹çŒ¹",
                    title: "é‚£äº›æ²¡è¯´å‡ºå£çš„è¯",
                    content: "ã€æˆ‘å–œæ¬¢ä½ ã€å››ä¸ªå­—ï¼Œåœ¨å¯¹è¯æ¡†é‡Œæ‰“äº†åˆåˆ ã€‚æœ€ååªå‘å‡ºå»ä¸€å¥ã€æ™šå®‰ã€ã€‚å‰è¾ˆå›æˆ‘ã€æ™šå®‰ï¼Œæ˜å¤©è§ã€ï¼Œæˆ‘å°±å¼€å¿ƒå¾—ç¡ä¸ç€ã€‚ç¬¬äºŒå¤©å‰è¾ˆè¯´ï¼šã€æ˜¨æ™šæƒ³è¯´ä»€ä¹ˆï¼Ÿã€æˆ‘é¼“èµ·å‹‡æ°”ï¼šã€æƒ³è¯´...å‰è¾ˆçš„ç”»ç”»å¾—çœŸå¥½ã€‚ã€å‰è¾ˆç¬‘äº†ï¼šã€åªæœ‰è¿™ä¸ªï¼Ÿã€æˆ‘çŸ¥é“å‰è¾ˆåœ¨ç­‰ä»€ä¹ˆï¼Œä½†æˆ‘è¿˜æ˜¯ä¸æ•¢è¯´å‡ºå£ã€‚",
                    likes: 233,
                    comments: 47,
                    date: "2025-12-02",
                    score: 76
                },
                {
                    rank: 8,
                    author: "é¥¼å¹²ç‹å›½å±…æ°‘",
                    title: "å‰è¾ˆçš„æ¢—å›¾ä¼šå‘å…‰",
                    content: "å‰è¾ˆåšçš„æ¢—å›¾ï¼Œæˆ‘æ¯ä¸€å¼ éƒ½ä¿å­˜äº†ã€‚æœ‹å‹ä»¬é—®æˆ‘ä¸ºä»€ä¹ˆæ”¶è—é‚£ä¹ˆå¤šæ¢—å›¾ï¼Œæˆ‘è¯´å› ä¸ºå¥½ç¬‘ã€‚å…¶å®æ˜¯å› ä¸ºï¼Œé‚£æ˜¯å‰è¾ˆç”¨å¿ƒåšçš„ã€‚é‚£å¤©å‰è¾ˆè¯´ï¼šã€ä½ å–œæ¬¢çš„è¯ï¼Œæˆ‘å¯ä»¥ä¸“é—¨ä¸ºä½ åšä¸€å¼ ã€‚ã€æˆ‘æ„£ä½äº†ï¼Œç„¶åç–¯ç‹‚ç‚¹å¤´ã€‚å½“çœ‹åˆ°ä¸“å±æ¢—å›¾æ—¶ï¼Œæˆ‘å“­äº†ã€‚åŸæ¥å‰è¾ˆçš„æ¸©æŸ”ï¼Œæ¯”é˜³å…‰è¿˜è¦æ¸©æš–ã€‚",
                    likes: 210,
                    comments: 42,
                    date: "2025-11-30",
                    score: 73
                },
                {
                    rank: 9,
                    author: "å¥¶é¦™å‘³é¥¼å¹²",
                    title: "å¿ƒè·³çš„è¯æ˜",
                    content: "åŒ»ç–—æŠ¥å‘Šæ˜¾ç¤ºæˆ‘çš„å¿ƒè·³å¼‚å¸¸ï¼ŒåŒ»ç”Ÿè¯´ï¼šã€ä½ æœ€è¿‘æœ‰æ²¡æœ‰ç‰¹åˆ«åœ¨æ„çš„äººï¼Ÿã€æˆ‘æƒ³èµ·äº†å‰è¾ˆï¼Œè„¸ç¬é—´çº¢äº†ã€‚åŒ»ç”Ÿç¬‘äº†ï¼šã€è¿™å°±æ˜¯åŸå› ã€‚ã€åŸæ¥å–œæ¬¢ä¸€ä¸ªäººï¼Œè¿å¿ƒè·³éƒ½ä¼šå‡ºå–è‡ªå·±ã€‚æˆ‘æŠŠæŠ¥å‘Šå‘ç»™å‰è¾ˆï¼šã€ä½ çœ‹ï¼Œè¿™æ˜¯æˆ‘å–œæ¬¢ä½ çš„è¯æ˜ã€‚ã€å‰è¾ˆå›å¤ï¼šã€é‚£æˆ‘çš„åŒ»ç–—æŠ¥å‘Šåº”è¯¥ä¹Ÿæ˜¯è¿™æ ·ã€‚ã€",
                    likes: 198,
                    comments: 39,
                    date: "2025-11-28",
                    score: 70
                },
                {
                    rank: 10,
                    author: "è‰è“å¤¹å¿ƒæ´¾",
                    title: "å‰è¾ˆçš„å‘³é“",
                    content: "å‰è¾ˆèº«ä¸Šæœ‰æ·¡æ·¡çš„é¥¼å¹²é¦™å‘³ï¼Œæ¯æ¬¡é è¿‘éƒ½ä¼šè®©æˆ‘å¿ƒè·³åŠ é€Ÿã€‚æˆ‘å¼€å§‹å¯»æ‰¾åŒæ¬¾é¦™å‘³çš„é¥¼å¹²ï¼Œä½†æ€ä¹ˆä¹Ÿæ‰¾ä¸åˆ°ã€‚ç›´åˆ°é‚£å¤©å‰è¾ˆé€’ç»™æˆ‘ä¸€å—é¥¼å¹²ï¼šã€å°å°çœ‹ï¼Œæˆ‘è‡ªå·±åšçš„ã€‚ã€æˆ‘å’¬äº†ä¸€å£ï¼Œå°±æ˜¯è¿™ä¸ªå‘³é“ï¼åŸæ¥å‰è¾ˆçš„å‘³é“ï¼Œæ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œå°±åƒå‰è¾ˆåœ¨æˆ‘å¿ƒé‡Œçš„ä½ç½®ä¸€æ ·ã€‚",
                    likes: 187,
                    comments: 36,
                    date: "2025-11-26",
                    score: 68
                }
            ];

            const submissionsList = document.getElementById('submissions-list');
            const noSubmissionsMsg = document.getElementById('no-submissions-msg');

            if (submissionsData.length === 0) {
                noSubmissionsMsg.innerHTML = '<i class="fas fa-book-open"></i> è¿˜æ²¡æœ‰æŠ•ç¨¿ä½œå“ï¼Œå¿«æ¥æŠ•ç¨¿å§ï¼';
                return;
            }

            // æ¸…ç©ºåŠ è½½æç¤º
            noSubmissionsMsg.style.display = 'none';

            // æ¸²æŸ“æŠ•ç¨¿åˆ—è¡¨
            submissionsData.forEach(submission => {
                const submissionItem = document.createElement('div');
                submissionItem.className = `submission-item rank-${submission.rank}`;
                
                // ç”Ÿæˆé¥¼å¹²è£…é¥°
                let cookieDecor = "";
                if (submission.rank <= 3) {
                    const cookieTypes = ["ğŸª", "ğŸ¥ ", "ğŸ˜", "ğŸ¥®", "ğŸ¥"];
                    cookieDecor = `<div class="cookie-decoration" style="position:absolute; top:10px; left:10px; font-size:1.2rem; opacity:0.7;">${cookieTypes[submission.rank-1]}</div>`;
                }
                
                submissionItem.innerHTML = `
                    ${cookieDecor}
                    <div class="submission-author">
                        <i class="fas fa-user-pen"></i> ${submission.author}
                        <span style="font-size:0.9rem; color:#888; margin-left:10px;">
                            <i class="fas fa-star" style="color:#FFD700;"></i> ç»¼åˆè¯„åˆ†: ${submission.score}
                        </span>
                    </div>
                    <div class="submission-title">
                        <i class="fas fa-book"></i> ${submission.title}
                        <span style="font-size:0.8rem; color:#e86a92; margin-left:10px; background:#ffe4ec; padding:2px 8px; border-radius:10px;">
                            ç¬¬${submission.rank}å
                        </span>
                    </div>
                    <div class="submission-content">
                        ${submission.content}
                    </div>
                    <div class="submission-stats">
                        <span><i class="fas fa-heart" style="color:#e86a92;"></i> ${submission.likes} ç‚¹èµ</span>
                        <span><i class="fas fa-comment" style="color:#2ecc71;"></i> ${submission.comments} è¯„è®º</span>
                        <span><i class="fas fa-calendar" style="color:#3498db;"></i> ${submission.date}</span>
                        <span><i class="fas fa-cookie-bite" style="color:#8B4513;"></i> é¥¼å¹²å€¼: ${Math.floor(submission.score * 1.5)}</span>
                    </div>
                `;
                
                submissionsList.appendChild(submissionItem);
            });
        }
        
        // ========== æ”¹è¿›ç‰ˆè·‘é…·æ¸¸æˆï¼šæ”¶é›†é¥¼å¹²ã€æ— é™è·³è·ƒã€æ— é™åœºæ™¯ã€éŸ³æ•ˆã€å¯¹è¯æ¡†èŠå¤© ==========
        function initParkourGame() {
            console.log("åˆå§‹åŒ–è·‘é…·æ¸¸æˆ");
            const canvas = document.getElementById('game-canvas');
            const ctx = canvas.getContext('2d');
            const startBtn = document.getElementById('start-game-btn');
            const pauseBtn = document.getElementById('pause-game-btn');
            const restartBtn = document.getElementById('restart-game-btn');
            const scoreEl = document.getElementById('game-score');
            const highscoreEl = document.getElementById('game-highscore');
            const cookiesEl = document.getElementById('game-cookies');
            const statusEl = document.getElementById('game-status');
            
            // æ¸¸æˆçŠ¶æ€
            let gameRunning = false;
            let gamePaused = false;
            let score = 0;
            let highscore = parseInt(localStorage.getItem('parkourHighscore')) || 0;
            let cookiesCollected = 0;
            let gameLoop;
            let gameTime = 0;
            let cameraX = 0;
            let dialogTimer = 0;
            let dialogIndex = 0;
            
            // åˆå§‹åŒ–é«˜åˆ†æ˜¾ç¤º
            highscoreEl.textContent = highscore;
            
            // ========== ç”Ÿæˆ520æ¡æ¸¸æˆå¯¹è¯ ==========
            function generateGameDialogs() {
                const dialogTemplates = [
                    // åŸ‹çš„å¯¹è¯æ¨¡æ¿
                    {speaker: "åŸ‹", type: "mai", templates: [
                        "ä¼Š...ä½ ä¸ºä»€ä¹ˆæ€»æ˜¯è¿½ç€æˆ‘è·‘ï¼Ÿ",
                        "åˆ«è¿™æ ·çœ‹ç€æˆ‘...æˆ‘ä¼šå®³ç¾çš„...",
                        "ä½ çš„ç“œæ¡æˆ‘éƒ½çœ‹åˆ°äº†...å†™å¾—é‚£ä¹ˆæ˜æ˜¾...",
                        "å…¶å®...æˆ‘ä¹Ÿä¸€ç›´åœ¨æ³¨æ„ä½ ...",
                        "æˆ‘ä»¬è¿™æ ·...çœŸçš„å¯ä»¥å—ï¼Ÿ",
                        "ä½ æ˜¯å¯¹å®¶...æˆ‘æ˜¯å¯¹å®¶...ä½†æˆ‘ä»¬...",
                        "æˆ‘çš„å¿ƒè·³å¾—å¥½å¿«...éƒ½æ˜¯å› ä¸ºä½ ...",
                        "ä¸è¦å†è¯´é‚£ç§è¯äº†...æˆ‘æ›´å®³ç¾äº†...",
                        "ä½ çš„ç”»...çœŸçš„å¾ˆç¾...",
                        "æˆ‘æƒ³...æˆ‘å¯èƒ½æ˜¯å–œæ¬¢ä¸Šä½ äº†...",
                        "è¿™ä»½æ„Ÿæƒ…...è®©æˆ‘ä¸çŸ¥æ‰€æª...",
                        "å¦‚æœèƒ½ä¸€ç›´è¿™æ ·...è¯¥å¤šå¥½...",
                        "ä½ æ˜¯æˆ‘æœ€ç‰¹åˆ«çš„åè¾ˆ...",
                        "æˆ‘çš„å¿ƒé‡Œ...æ—©å°±æœ‰ä½ çš„ä½ç½®äº†...",
                        "è¿™ä»½æš—æ‹...ç»ˆäºå¯ä»¥è¯´å‡ºå£äº†...",
                        "è°¢è°¢ä½ ...ä¸€ç›´å–œæ¬¢ç€æˆ‘...",
                        "æˆ‘ä¹Ÿ...ä¸€ç›´å–œæ¬¢ç€ä½ ...",
                        "ä»ä»Šä»¥å...ä¸è¦å†å·å·çœ‹æˆ‘äº†...",
                        "æˆ‘è¦ä½ å…‰æ˜æ­£å¤§åœ°...ç«™åœ¨æˆ‘èº«è¾¹...",
                        "ä¼Š...å’Œæˆ‘åœ¨ä¸€èµ·å§...",
                        "è¿™ä»½æ„Ÿæƒ…...æˆ‘ä¸å†éšè—äº†...",
                        "æˆ‘å–œæ¬¢ä½ ...æ¯”å–œæ¬¢ä»»ä½•é¥¼å¹²éƒ½å¤š...",
                        "ä½ æ˜¯æˆ‘æœ€çè´µçš„åè¾ˆ...",
                        "æˆ‘æƒ³å’Œä½ ...ä¸€èµ·èµ°ä¸‹å»...",
                        "è¿™ä»½çˆ±æ„...å†ä¹Ÿè—ä¸ä½äº†...",
                        "è®©æˆ‘ä»¬...å ‚å ‚æ­£æ­£åœ°ç›¸çˆ±å§...",
                        "ä¼Š...ä½ æ„¿æ„å—ï¼Ÿ",
                        "ä»ä»Šä»¥å...æˆ‘åªæƒ³çœ‹ç€ä½ ...",
                        "è¿™ä»½å¿ƒæ„...è¯·ä½ æ”¶ä¸‹...",
                        "æˆ‘çˆ±ä½ ...æ¯”æƒ³è±¡ä¸­è¿˜è¦æ·±...",
                    ]},
                    
                    // ä¼Šçš„å¯¹è¯æ¨¡æ¿
                    {speaker: "ä¼Š", type: "yi", templates: [
                        "å‰è¾ˆ...ç­‰ç­‰æˆ‘...",
                        "æˆ‘æ§åˆ¶ä¸ä½è‡ªå·±...å°±æ˜¯æƒ³è¿½ç€ä½ ...",
                        "å‰è¾ˆ...æˆ‘å–œæ¬¢ä½ ...",
                        "è¿™ä»½æ„Ÿæƒ…...å·²ç»æ— æ³•éšè—äº†...",
                        "ä»çœ‹åˆ°å‰è¾ˆçš„ç¬¬ä¸€çœ¼...æˆ‘å°±å–œæ¬¢ä¸Šäº†...",
                        "å‰è¾ˆçš„æ¯ä¸€å¹…ç”»...æˆ‘éƒ½æ”¶è—ç€...",
                        "å‰è¾ˆçš„æ¯ä¸€ä¸ªåŠ¨æ€...æˆ‘éƒ½å…³æ³¨ç€...",
                        "æˆ‘çŸ¥é“è¿™æ ·ä¸å¯¹...ä½†æˆ‘å°±æ˜¯å–œæ¬¢ä½ ...",
                        "å‰è¾ˆ...ä½ èƒ½æ„Ÿå—åˆ°æˆ‘çš„å¿ƒæ„å—ï¼Ÿ",
                        "æˆ‘å†™äº†é‚£ä¹ˆå¤šç“œæ¡...éƒ½æ˜¯ç»™å‰è¾ˆçœ‹çš„...",
                        "å‰è¾ˆ...ä¸è¦èº²ç€æˆ‘...",
                        "è®©æˆ‘é è¿‘ä½ ä¸€ç‚¹...å°±ä¸€ç‚¹ç‚¹...",
                        "å‰è¾ˆçš„ç¬‘å®¹...æ˜¯æˆ‘æœ€å¤§çš„åŠ¨åŠ›...",
                        "æˆ‘æƒ³å’Œå‰è¾ˆ...ä¸€ç›´åœ¨ä¸€èµ·...",
                        "è¿™ä»½æš—æ‹...ç»ˆäºå¯ä»¥è¯´å‡ºå£äº†...",
                        "å‰è¾ˆ...è¯·æ¥å—æˆ‘çš„å¿ƒæ„...",
                        "æˆ‘ä¼šä¸€ç›´...ä¸€ç›´å–œæ¬¢å‰è¾ˆ...",
                        "å‰è¾ˆæ˜¯æˆ‘æœ€é‡è¦çš„äºº...",
                        "è¿™ä»½æ„Ÿæƒ…...æ°¸è¿œä¸ä¼šæ”¹å˜...",
                        "å‰è¾ˆ...æˆ‘çˆ±ä½ ...",
                        "è®©æˆ‘ç•™åœ¨å‰è¾ˆèº«è¾¹...",
                        "æˆ‘æƒ³æˆä¸ºå‰è¾ˆæœ€ç‰¹åˆ«çš„äºº...",
                        "å‰è¾ˆçš„ä¸€åˆ‡...æˆ‘éƒ½å–œæ¬¢...",
                        "è¿™ä»½çˆ±æ„...å·²ç»æ»¡æº¢å‡ºæ¥äº†...",
                        "å‰è¾ˆ...è¯·çœ‹ç€æˆ‘...",
                        "æˆ‘çš„çœ¼é‡Œ...åªæœ‰å‰è¾ˆ...",
                        "å‰è¾ˆæ˜¯æˆ‘æ´»ä¸‹å»çš„æ„ä¹‰...",
                        "æ²¡æœ‰å‰è¾ˆ...æˆ‘ä¼šæ´»ä¸ä¸‹å»çš„...",
                        "å‰è¾ˆ...è¯·å’Œæˆ‘åœ¨ä¸€èµ·...",
                        "è¿™ä»½å¿ƒæ„...è¯·ä½ æ”¶ä¸‹...",
                    ]}
                ];
                
                // æƒ…æ„Ÿè¯åº“
                const emotions = ["å–œæ¬¢", "çˆ±", "æš—æ‹", "æ€å¿µ", "å€¾æ…•", "çˆ±æ…•", "é’Ÿæƒ…", "è¿·æ‹", "ç—´æ‹", "æ·±çˆ±"];
                const objects = ["ä½ ", "å‰è¾ˆ", "åè¾ˆ", "åŸ‹", "ä¼Š", "å¿ƒ", "æ„Ÿæƒ…", "å¿ƒæ„", "çˆ±æ„", "æƒ…æ„"];
                const actions = ["è—ä¸ä½", "å¿ä¸ä½", "æ§åˆ¶ä¸ä½", "æ— æ³•éšè—", "æ— æ³•æŠ‘åˆ¶", "éš¾ä»¥æ§åˆ¶", "æƒ…ä¸è‡ªç¦", "ä¸ç”±è‡ªä¸»"];
                const places = ["å¿ƒé‡Œ", "å¿ƒåº•", "å†…å¿ƒæ·±å¤„", "çµé­‚æ·±å¤„", "å¿ƒç”°", "å¿ƒæµ·", "å¿ƒæ‰‰"];
                const times = ["ä¸€ç›´", "æ°¸è¿œ", "å§‹ç»ˆ", "æ°¸è¿œæ°¸è¿œ", "ç”Ÿç”Ÿä¸–ä¸–", "ä»ä»Šå¾€å", "æ­¤æ—¶æ­¤åˆ»"];
                
                // ç”Ÿæˆ520æ¡å¯¹è¯
                const dialogs = [];
                const dialogCount = 520;
                
                // å…ˆæ·»åŠ é¢„è®¾çš„æ¨¡æ¿å¯¹è¯
                dialogTemplates.forEach(template => {
                    template.templates.forEach(text => {
                        dialogs.push({
                            speaker: template.speaker,
                            text: text,
                            type: template.type
                        });
                    });
                });
                
                // ç”Ÿæˆæ›´å¤šå¯¹è¯ç›´åˆ°è¾¾åˆ°520æ¡
                while(dialogs.length < dialogCount) {
                    const speaker = Math.random() > 0.5 ? "åŸ‹" : "ä¼Š";
                    const type = speaker === "åŸ‹" ? "mai" : "yi";
                    
                    // éšæœºç”Ÿæˆå¯¹è¯å†…å®¹
                    let text = "";
                    
                    if (speaker === "åŸ‹") {
                        const templates = [
                            `ä¼Š...æˆ‘${randomChoice(emotions)}${randomChoice(objects)}...`,
                            `è¿™ä»½${randomChoice(emotions)}...${randomChoice(actions)}äº†...`,
                            `åœ¨æˆ‘çš„${randomChoice(places)}...${randomChoice(times)}æœ‰ä½ çš„ä½ç½®...`,
                            `ä½ çŸ¥é“å—...æˆ‘${randomChoice(times)}${randomChoice(emotions)}ç€ä½ ...`,
                            `${randomChoice(times)}...æˆ‘åªæƒ³çœ‹ç€ä½ ...`,
                            `è¿™ä»½${randomChoice(emotions)}...è¯·ä½ æ”¶ä¸‹...`,
                            `æˆ‘${randomChoice(emotions)}ä½ ...æ¯”æƒ³è±¡ä¸­è¿˜è¦æ·±...`,
                            `è®©æˆ‘ä»¬${randomChoice(times)}åœ¨ä¸€èµ·...å¥½å—ï¼Ÿ`,
                            `ä½ çš„${randomChoice(objects)}...è®©æˆ‘${randomChoice(actions)}...`,
                            `è¿™ä»½${randomChoice(emotions)}...ç»ˆäºå¯ä»¥è¯´å‡ºå£äº†...`
                        ];
                        text = randomChoice(templates);
                    } else {
                        const templates = [
                            `å‰è¾ˆ...æˆ‘${randomChoice(emotions)}${randomChoice(objects)}...`,
                            `è¿™ä»½${randomChoice(emotions)}...${randomChoice(actions)}äº†...`,
                            `åœ¨æˆ‘çš„${randomChoice(places)}...${randomChoice(times)}æœ‰å‰è¾ˆ...`,
                            `å‰è¾ˆ...æˆ‘${randomChoice(times)}${randomChoice(emotions)}ç€ä½ ...`,
                            `${randomChoice(times)}...æˆ‘åªæƒ³çœ‹ç€å‰è¾ˆ...`,
                            `è¿™ä»½${randomChoice(emotions)}...è¯·å‰è¾ˆæ”¶ä¸‹...`,
                            `æˆ‘${randomChoice(emotions)}å‰è¾ˆ...æ¯”æƒ³è±¡ä¸­è¿˜è¦æ·±...`,
                            `è®©æˆ‘ä»¬${randomChoice(times)}åœ¨ä¸€èµ·...å¥½å—ï¼Ÿ`,
                            `å‰è¾ˆçš„${randomChoice(objects)}...è®©æˆ‘${randomChoice(actions)}...`,
                            `è¿™ä»½${randomChoice(emotions)}...ç»ˆäºå¯ä»¥è¯´å‡ºå£äº†...`
                        ];
                        text = randomChoice(templates);
                    }
                    
                    // ç¡®ä¿å¯¹è¯ä¸é‡å¤
                    const existing = dialogs.find(d => d.text === text && d.speaker === speaker);
                    if (!existing) {
                        dialogs.push({
                            speaker: speaker,
                            text: text,
                            type: type
                        });
                    }
                }
                
                return dialogs.slice(0, dialogCount);
            }
            
            // éšæœºé€‰æ‹©å‡½æ•°
            function randomChoice(array) {
                return array[Math.floor(Math.random() * array.length)];
            }
            
            // åœ¨æ¸¸æˆåˆå§‹åŒ–ä¸­ä½¿ç”¨
            const dialogs = generateGameDialogs();
            
            // æ˜¾ç¤ºå¯¹è¯æ¡† - æ ¹æ®æ–‡æœ¬é•¿åº¦å†³å®šæ˜¾ç¤ºæ—¶é—´ï¼ˆæœ€å°‘3ç§’ï¼‰
            function showDialog(dialog) {
                const dialogElement = document.getElementById('game-dialog');
                const speakerElement = document.getElementById('dialog-speaker');
                const textElement = document.getElementById('dialog-text');
                
                speakerElement.textContent = dialog.speaker + "ï¼š";
                speakerElement.className = "dialog-speaker " + dialog.type + "-speaker";
                textElement.textContent = dialog.text;
                
                dialogElement.className = "game-dialog " + dialog.type + "-dialog";
                dialogElement.style.display = 'block';
                
                // æ ¹æ®æ–‡æœ¬é•¿åº¦è®¡ç®—æ˜¾ç¤ºæ—¶é—´ï¼ˆæœ€å°‘3ç§’ï¼Œæ¯10ä¸ªå­—ç¬¦å¢åŠ 1ç§’ï¼Œæœ€å¤š10ç§’ï¼‰
                const textLength = dialog.text.length;
                const displayTime = Math.max(3000, Math.min(10000, 3000 + textLength * 100));
                
                // æ˜¾ç¤ºæ—¶é—´åè‡ªåŠ¨éšè—å¯¹è¯æ¡†
                setTimeout(() => {
                    dialogElement.style.display = 'none';
                }, displayTime);
            }
            
            // éšæœºæ˜¾ç¤ºå¯¹è¯æ¡†
            function showRandomDialog() {
                if (!gameRunning || gamePaused) return;
                
                // æ¯5-10ç§’æ˜¾ç¤ºä¸€æ¬¡å¯¹è¯
                dialogTimer++;
                if (dialogTimer > 300 + Math.random() * 300) { // 5-10ç§’
                    const dialog = dialogs[dialogIndex % dialogs.length];
                    showDialog(dialog);
                    dialogIndex++;
                    dialogTimer = 0;
                }
            }
            
            // ========== æ¸¸æˆä¸–ç•Œå‚æ•° ==========
            const gravity = 0.5;
            const groundHeight = 50;
            
            // ========== ç©å®¶ï¼ˆåŸ‹ï¼‰- æ¢å¤åŸæ¥çš„å¤§å° ==========
            const player = {
                x: 100,
                y: 300,
                width: 50,     // æ¢å¤åŸæ¥çš„å¤§å°
                height: 80,    // æ¢å¤åŸæ¥çš„å¤§å°
                velocityX: 0,
                velocityY: 0,
                speed: 5,
                jumpPower: -12,
                isOnGround: false,
                facingRight: true,
                lives: 3,
                invincible: false,
                invincibleTime: 0,
                
                // åŠ¨ç”»ç³»ç»Ÿ
                animationState: 'idle',
                animationFrame: 0
            };
            
            // ========== æ•Œäººï¼ˆä¼Šï¼‰- æ¢å¤åŸæ¥çš„å¤§å° ==========
            const enemy = {
                x: 500,
                y: 300,
                width: 60,     // æ¢å¤åŸæ¥çš„å¤§å°
                height: 90,    // æ¢å¤åŸæ¥çš„å¤§å°
                velocityX: 0,
                velocityY: 0,
                speed: 2.5,
                attackCooldown: 0,
                attackInterval: 120,
                throwPower: 8
            };
            
            // ========== é¥¼å¹²æ•°ç»„ ==========
            const cookies = [];
            const cookieWidth = 25;
            const cookieHeight = 25;
            
            // ========== ç“œæ¡æ•°ç»„ ==========
            const melons = [];
            const melonWidth = 30;
            const melonHeight = 30;
            
            // ========== å¹³å°æ•°ç»„ï¼ˆæ— é™ç”Ÿæˆï¼‰ ==========
            const platforms = [];
            let lastPlatformX = 0;
            
            // ========== éŸ³æ•ˆç³»ç»Ÿ ==========
            const soundEffects = {
                jump: null,
                collect: null,
                hit: null
            };
            
            // åˆå§‹åŒ–éŸ³æ•ˆ
            function initSoundEffects() {
                // åˆ›å»ºç®€å•çš„éŸ³æ•ˆï¼ˆä½¿ç”¨Web Audio APIç”Ÿæˆï¼‰
                try {
                    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    
                    // è·³è·ƒéŸ³æ•ˆï¼ˆçŸ­ä¿ƒçš„ä¸Šå‡éŸ³ï¼‰
                    soundEffects.jump = function() {
                        const oscillator = audioContext.createOscillator();
                        const gainNode = audioContext.createGain();
                        
                        oscillator.connect(gainNode);
                        gainNode.connect(audioContext.destination);
                        
                        oscillator.frequency.value = 523.25; // C5
                        oscillator.type = 'sine';
                        
                        gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
                        
                        oscillator.start(audioContext.currentTime);
                        oscillator.stop(audioContext.currentTime + 0.3);
                    };
                    
                    // æ”¶é›†é¥¼å¹²éŸ³æ•ˆï¼ˆæ¸…è„†çš„å®å’šå£°ï¼‰
                    soundEffects.collect = function() {
                        const oscillator = audioContext.createOscillator();
                        const gainNode = audioContext.createGain();
                        
                        oscillator.connect(gainNode);
                        gainNode.connect(audioContext.destination);
                        
                        oscillator.frequency.setValueAtTime(659.25, audioContext.currentTime); // E5
                        oscillator.frequency.exponentialRampToValueAtTime(523.25, audioContext.currentTime + 0.2); // C5
                        oscillator.type = 'triangle';
                        
                        gainNode.gain.setValueAtTime(0.4, audioContext.currentTime);
                        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
                        
                        oscillator.start(audioContext.currentTime);
                        oscillator.stop(audioContext.currentTime + 0.3);
                    };
                    
                    // è¢«å‡»ä¸­éŸ³æ•ˆï¼ˆä½æ²‰çš„å’šå£°ï¼‰
                    soundEffects.hit = function() {
                        const oscillator = audioContext.createOscillator();
                        const gainNode = audioContext.createGain();
                        
                        oscillator.connect(gainNode);
                        gainNode.connect(audioContext.destination);
                        
                        oscillator.frequency.value = 220; // A3
                        oscillator.type = 'sawtooth';
                        
                        gainNode.gain.setValueAtTime(0.5, audioContext.currentTime);
                        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
                        
                        oscillator.start(audioContext.currentTime);
                        oscillator.stop(audioContext.currentTime + 0.5);
                    };
                    
                    console.log("éŸ³æ•ˆç³»ç»Ÿåˆå§‹åŒ–æˆåŠŸ");
                } catch (error) {
                    console.log("éŸ³æ•ˆç³»ç»Ÿåˆå§‹åŒ–å¤±è´¥ï¼Œä½¿ç”¨é™éŸ³æ¨¡å¼:", error);
                    // åˆ›å»ºé™éŸ³å‡½æ•°
                    soundEffects.jump = function() {};
                    soundEffects.collect = function() {};
                    soundEffects.hit = function() {};
                }
            }
            
            // åˆå§‹åŒ–å¹³å°ï¼ˆæ— é™ç”Ÿæˆï¼‰
            function initPlatforms() {
                platforms.length = 0;
                lastPlatformX = 0;
                
                // åˆå§‹åœ°é¢å¹³å°
                platforms.push({
                    x: 0,
                    y: canvas.height - groundHeight,
                    width: 1000,
                    height: groundHeight,
                    type: 'ground'
                });
                
                // ç”Ÿæˆåˆå§‹å¹³å°
                for (let i = 0; i < 20; i++) {
                    generatePlatform();
                }
            }
            
            // ç”Ÿæˆæ–°å¹³å°
            function generatePlatform() {
                const platformTypes = ['normal', 'small', 'moving'];
                const type = platformTypes[Math.floor(Math.random() * platformTypes.length)];
                
                let width, height;
                switch(type) {
                    case 'small':
                        width = 60 + Math.random() * 40;
                        height = 15;
                        break;
                    case 'moving':
                        width = 80 + Math.random() * 40;
                        height = 20;
                        break;
                    default:
                        width = 80 + Math.random() * 60;
                        height = 20;
                }
                
                const x = lastPlatformX + 150 + Math.random() * 200;
                const y = canvas.height - groundHeight - 50 - Math.random() * 150;
                
                const platform = {
                    x: x,
                    y: y,
                    width: width,
                    height: height,
                    type: type,
                    color: type === 'small' ? '#e74c3c' : 
                           type === 'moving' ? '#3498db' : '#95a5a6'
                };
                
                if (type === 'moving') {
                    platform.moveRange = 80;
                    platform.moveSpeed = 1 + Math.random();
                    platform.moveDirection = 1;
                    platform.originalX = x;
                }
                
                platforms.push(platform);
                lastPlatformX = x;
                
                // åœ¨å¹³å°ä¸Šç”Ÿæˆé¥¼å¹²
                generateCookieOnPlatform(platform);
                
                return platform;
            }
            
            // åœ¨å¹³å°ä¸Šç”Ÿæˆé¥¼å¹²
            function generateCookieOnPlatform(platform) {
                // 70%çš„å‡ ç‡åœ¨å¹³å°ä¸Šç”Ÿæˆé¥¼å¹²
                if (Math.random() > 0.3) {
                    const cookieX = platform.x + platform.width/2 - cookieWidth/2;
                    const cookieY = platform.y - cookieHeight - 5;
                    
                    cookies.push({
                        x: cookieX,
                        y: cookieY,
                        width: cookieWidth,
                        height: cookieHeight,
                        collected: false,
                        rotation: Math.random() * Math.PI * 2,
                        rotationSpeed: 0.05
                    });
                }
            }
            
            // ç”Ÿæˆéšæœºé¥¼å¹²ï¼ˆç©ºä¸­ï¼‰
            function generateRandomCookie() {
                // 20%çš„å‡ ç‡ç”Ÿæˆç©ºä¸­é¥¼å¹²
                if (Math.random() > 0.8 && cookies.length < 15) {
                    const x = cameraX + canvas.width + 100 + Math.random() * 200;
                    const y = canvas.height - groundHeight - 100 - Math.random() * 200;
                    
                    cookies.push({
                        x: x,
                        y: y,
                        width: cookieWidth,
                        height: cookieHeight,
                        collected: false,
                        rotation: Math.random() * Math.PI * 2,
                        rotationSpeed: 0.05
                    });
                }
            }
            
            // ç§»é™¤è¶…å‡ºå±å¹•çš„å¯¹è±¡
            function cleanupOffscreenObjects() {
                // ç§»é™¤è¶…å‡ºå±å¹•çš„é¥¼å¹²
                for (let i = cookies.length - 1; i >= 0; i--) {
                    if (cookies[i].x < cameraX - 100) {
                        cookies.splice(i, 1);
                    }
                }
                
                // ç§»é™¤è¶…å‡ºå±å¹•çš„ç“œæ¡
                for (let i = melons.length - 1; i >= 0; i--) {
                    if (melons[i].x < cameraX - 100 || melons[i].x > cameraX + canvas.width + 100) {
                        melons.splice(i, 1);
                    }
                }
                
                // ç§»é™¤è¶…å‡ºå±å¹•çš„å¹³å°å¹¶ç”Ÿæˆæ–°å¹³å°
                for (let i = platforms.length - 1; i >= 0; i--) {
                    if (platforms[i].x + platforms[i].width < cameraX - 100) {
                        platforms.splice(i, 1);
                        generatePlatform(); // ç”Ÿæˆæ–°å¹³å°
                    }
                }
            }
            
            // ========== ç¾è§‚çš„è§’è‰²ç»˜åˆ¶ç³»ç»Ÿ ==========
            
            // ç»˜åˆ¶åœ†è§’çŸ©å½¢çš„è¾…åŠ©å‡½æ•°
            function roundRect(ctx, x, y, width, height, radius) {
                ctx.beginPath();
                ctx.moveTo(x + radius, y);
                ctx.lineTo(x + width - radius, y);
                ctx.quadraticCurveTo(x + width, y, x + width, y + radius);
                ctx.lineTo(x + width, y + height - radius);
                ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
                ctx.lineTo(x + radius, y + height);
                ctx.quadraticCurveTo(x, y + height, x, y + height - radius);
                ctx.lineTo(x, y + radius);
                ctx.quadraticCurveTo(x, y, x + radius, y);
                ctx.closePath();
            }
            
            // ç»˜åˆ¶ç¾è§‚çš„åŸ‹è§’è‰²
            function drawBeautifulPlayer(x, y, width, height, facingRight, animationState) {
                ctx.save();
                ctx.translate(x + width/2, y + height/2);
                
                if (!facingRight) {
                    ctx.scale(-1, 1);
                }
                
                // æ ¹æ®çŠ¶æ€è°ƒæ•´åŠ¨ç”»å¸§
                const animFrame = Math.floor(player.animationFrame / 10) % 4;
                
                // èº«ä½“ï¼ˆç²‰è‰²çš„é¥¼å¹²å½¢çŠ¶ï¼‰
                ctx.fillStyle = player.invincible && Math.floor(gameTime / 5) % 2 === 0 ? 
                    'rgba(232, 106, 146, 0.5)' : '#e86a92';
                
                // é¥¼å¹²å½¢çŠ¶çš„èº«ä½“ï¼ˆåœ†è§’çŸ©å½¢ï¼‰
                roundRect(ctx, -width/2, -height/2, width, height, 20);
                ctx.fill();
                
                // é¥¼å¹²è¾¹ç¼˜è£…é¥°
                ctx.strokeStyle = '#ffb5cc';
                ctx.lineWidth = 3;
                roundRect(ctx, -width/2, -height/2, width, height, 20);
                ctx.stroke();
                
                // å·§å…‹åŠ›ç¢ç‰‡ï¼ˆè£…é¥°ç‚¹ï¼‰
                ctx.fillStyle = '#8B4513';
                const dots = [
                    {x: -15, y: -20},
                    {x: 10, y: -25},
                    {x: -5, y: -5},
                    {x: 15, y: 0},
                    {x: -20, y: 15},
                    {x: 5, y: 20}
                ];
                
                dots.forEach(dot => {
                    ctx.beginPath();
                    ctx.arc(dot.x, dot.y, 4, 0, Math.PI * 2);
                    ctx.fill();
                });
                
                // é¢éƒ¨ç‰¹å¾
                drawPlayerFace(animationState, animFrame);
                
                // å¤´å‘/åˆ˜æµ·ï¼ˆå¯çˆ±çš„å‘å‹ï¼‰
                ctx.fillStyle = '#ff8fab';
                ctx.beginPath();
                ctx.moveTo(-25, -40);
                ctx.quadraticCurveTo(-15, -50, -5, -40);
                ctx.quadraticCurveTo(5, -50, 15, -40);
                ctx.quadraticCurveTo(25, -50, 35, -40);
                ctx.lineTo(25, -35);
                ctx.lineTo(-25, -35);
                ctx.closePath();
                ctx.fill();
                
                // è·‘æ­¥/è·³è·ƒåŠ¨ç”»
                if (animationState === 'running') {
                    // è·‘æ­¥æ—¶çš„è…¿éƒ¨åŠ¨ç”»
                    const legOffset = Math.sin(gameTime * 0.2) * 10;
                    drawLeg(-10, 30, legOffset);
                    drawLeg(10, 30, -legOffset);
                } else if (animationState === 'jumping') {
                    // è·³è·ƒå§¿åŠ¿
                    drawJumpingPose();
                } else {
                    // ç«™ç«‹å§¿åŠ¿
                    drawLeg(-10, 30, 0);
                    drawLeg(10, 30, 0);
                }
                
                // æ‰‹è‡‚
                ctx.fillStyle = '#ff8fab';
                if (animationState === 'running') {
                    const armOffset = Math.cos(gameTime * 0.2) * 10;
                    drawArm(-25, 0, armOffset);
                    drawArm(25, 0, -armOffset);
                } else {
                    drawArm(-25, 0, 0);
                    drawArm(25, 0, 0);
                }
                
                ctx.restore();
            }
            
            // ç»˜åˆ¶é¢éƒ¨
            function drawPlayerFace(state, frame) {
                // çœ¼ç›
                ctx.fillStyle = 'white';
                ctx.beginPath();
                ctx.arc(-15, -10, 8, 0, Math.PI * 2);
                ctx.arc(15, -10, 8, 0, Math.PI * 2);
                ctx.fill();
                
                // ç³å­”ï¼ˆæ ¹æ®çŠ¶æ€å˜åŒ–ï¼‰
                let pupilSize = 5;
                let pupilOffsetX = 0;
                
                if (state === 'jumping') {
                    pupilSize = 4;
                } else if (state === 'running') {
                    pupilOffsetX = frame % 2 === 0 ? 1 : -1;
                }
                
                ctx.fillStyle = '#e86a92';
                ctx.beginPath();
                ctx.arc(-15 + pupilOffsetX, -10, pupilSize, 0, Math.PI * 2);
                ctx.arc(15 + pupilOffsetX, -10, pupilSize, 0, Math.PI * 2);
                ctx.fill();
                
                // é«˜å…‰
                ctx.fillStyle = 'white';
                ctx.beginPath();
                ctx.arc(-18, -12, 2, 0, Math.PI * 2);
                ctx.arc(12, -12, 2, 0, Math.PI * 2);
                ctx.fill();
                
                // å˜´å·´ï¼ˆæ ¹æ®çŠ¶æ€å˜åŒ–ï¼‰
                ctx.strokeStyle = '#e86a92';
                ctx.lineWidth = 2;
                ctx.beginPath();
                
                if (state === 'jumping') {
                    // å¼€å¿ƒçš„å¤§ç¬‘
                    ctx.arc(0, 5, 10, 0.2, Math.PI - 0.2, false);
                } else if (state === 'running') {
                    // å¾®ç¬‘
                    ctx.arc(0, 8, 8, 0.1, Math.PI - 0.1, false);
                } else {
                    // æ™®é€šçš„å¾®ç¬‘
                    ctx.arc(0, 5, 6, 0.1, Math.PI - 0.1, false);
                }
                ctx.stroke();
            }
            
            // ç»˜åˆ¶è…¿éƒ¨
            function drawLeg(x, y, offset) {
                ctx.fillStyle = '#ff8fab';
                ctx.fillRect(x - 5 + offset, y, 10, 15);
                
                // é‹å­
                ctx.fillStyle = '#e86a92';
                ctx.fillRect(x - 7 + offset, y + 12, 14, 8);
            }
            
            // ç»˜åˆ¶æ‰‹è‡‚
            function drawArm(x, y, offset) {
                ctx.fillStyle = '#ff8fab';
                ctx.fillRect(x + offset, y, 8, 20);
                
                // æ‰‹
                ctx.fillStyle = '#ffb5cc';
                ctx.beginPath();
                ctx.arc(x + offset, y + 25, 6, 0, Math.PI * 2);
                ctx.fill();
            }
            
            // ç»˜åˆ¶è·³è·ƒå§¿åŠ¿
            function drawJumpingPose() {
                // è·³è·ƒæ—¶è…¿éƒ¨å¼¯æ›²
                const legAngle = 0.3;
                
                // å·¦è…¿
                ctx.save();
                ctx.translate(-10, 30);
                ctx.rotate(legAngle);
                ctx.fillStyle = '#ff8fab';
                ctx.fillRect(-5, 0, 10, 15);
                ctx.fillStyle = '#e86a92';
                ctx.fillRect(-7, 12, 14, 8);
                ctx.restore();
                
                // å³è…¿
                ctx.save();
                ctx.translate(10, 30);
                ctx.rotate(-legAngle);
                ctx.fillStyle = '#ff8fab';
                ctx.fillRect(-5, 0, 10, 15);
                ctx.fillStyle = '#e86a92';
                ctx.fillRect(-7, 12, 14, 8);
                ctx.restore();
            }
            
            // ç»˜åˆ¶é¥¼å¹²
            function drawCookie(x, y, width, height, rotation, collected) {
                ctx.save();
                ctx.translate(x + width/2, y + height/2);
                ctx.rotate(rotation);
                
                if (collected) {
                    ctx.globalAlpha = 0.5;
                }
                
                // é¥¼å¹²ä¸»ä½“ï¼ˆé‡‘è‰²ï¼‰
                ctx.fillStyle = collected ? '#cccccc' : '#FFD700';
                ctx.beginPath();
                ctx.arc(0, 0, width/2, 0, Math.PI * 2);
                ctx.fill();
                
                // é¥¼å¹²è¾¹ç¼˜
                ctx.strokeStyle = collected ? '#999999' : '#FFA500';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.arc(0, 0, width/2, 0, Math.PI * 2);
                ctx.stroke();
                
                // å·§å…‹åŠ›ç¢ç‰‡
                ctx.fillStyle = '#8B4513';
                const chipCount = 5;
                for (let i = 0; i < chipCount; i++) {
                    const angle = (i / chipCount) * Math.PI * 2;
                    const radius = width/3;
                    const chipX = Math.cos(angle) * radius;
                    const chipY = Math.sin(angle) * radius;
                    
                    ctx.beginPath();
                    ctx.arc(chipX, chipY, 3, 0, Math.PI * 2);
                    ctx.fill();
                }
                
                // ä¸­å¿ƒå­”
                ctx.fillStyle = '#FFF8DC';
                ctx.beginPath();
                ctx.arc(0, 0, width/6, 0, Math.PI * 2);
                ctx.fill();
                
                // æ”¶é›†ç‰¹æ•ˆ
                if (collected) {
                    ctx.strokeStyle = '#FFD700';
                    ctx.lineWidth = 1;
                    ctx.beginPath();
                    ctx.arc(0, 0, width/2 + 5, 0, Math.PI * 2);
                    ctx.stroke();
                }
                
                ctx.restore();
            }
            
            // ç»˜åˆ¶ç¾è§‚çš„ä¼Šè§’è‰²
            function drawBeautifulEnemy(x, y, width, height) {
                ctx.save();
                ctx.translate(x + width/2, y + height/2);
                
                // èº«ä½“ï¼ˆç»¿è‰²é¥¼å¹²å½¢çŠ¶ï¼‰
                ctx.fillStyle = '#2ed573';
                roundRect(ctx, -width/2, -height/2, width, height, 20);
                ctx.fill();
                
                // é¥¼å¹²è¾¹ç¼˜è£…é¥°
                ctx.strokeStyle = '#27ae60';
                ctx.lineWidth = 3;
                roundRect(ctx, -width/2, -height/2, width, height, 20);
                ctx.stroke();
                
                // å·§å…‹åŠ›ç¢ç‰‡
                ctx.fillStyle = '#8B4513';
                const dots = [
                    {x: -20, y: -25},
                    {x: 5, y: -30},
                    {x: -10, y: -10},
                    {x: 15, y: -5},
                    {x: -25, y: 10},
                    {x: 0, y: 15},
                    {x: 25, y: 20}
                ];
                
                dots.forEach(dot => {
                    ctx.beginPath();
                    ctx.arc(dot.x, dot.y, 5, 0, Math.PI * 2);
                    ctx.fill();
                });
                
                // é¢éƒ¨
                drawEnemyFace();
                
                // å¤´å‘/å¸½å­
                ctx.fillStyle = '#27ae60';
                ctx.beginPath();
                ctx.moveTo(-35, -45);
                ctx.quadraticCurveTo(-20, -60, -5, -45);
                ctx.quadraticCurveTo(10, -60, 25, -45);
                ctx.quadraticCurveTo(40, -60, 55, -45);
                ctx.lineTo(45, -40);
                ctx.lineTo(-25, -40);
                ctx.closePath();
                ctx.fill();
                
                ctx.restore();
            }
            
            // ç»˜åˆ¶ä¼Šçš„é¢éƒ¨
            function drawEnemyFace() {
                // çœ¼ç›
                ctx.fillStyle = 'white';
                ctx.beginPath();
                ctx.arc(-20, -15, 10, 0, Math.PI * 2);
                ctx.arc(20, -15, 10, 0, Math.PI * 2);
                ctx.fill();
                
                // ç³å­”
                ctx.fillStyle = '#2c3e50';
                ctx.beginPath();
                ctx.arc(-20, -15, 6, 0, Math.PI * 2);
                ctx.arc(20, -15, 6, 0, Math.PI * 2);
                ctx.fill();
                
                // å˜´å·´ï¼ˆç”Ÿæ°”çš„å˜´ï¼‰
                ctx.strokeStyle = '#2c3e50';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.arc(0, 10, 8, 0.3, Math.PI - 0.3, true);
                ctx.stroke();
            }
            
            // ========== ç©å®¶è·³è·ƒç³»ç»Ÿï¼ˆæ— é™è·³è·ƒï¼‰ ==========
            
            // å¤„ç†ç©å®¶è·³è·ƒ
            function handlePlayerJump() {
                // æ— é™è·³è·ƒï¼šä»»ä½•æ—¶å€™æŒ‰ç©ºæ ¼éƒ½å¯ä»¥è·³è·ƒ

                player.velocityY = player.jumpPower;
                player.isOnGround = false;
                player.animationState = 'jumping';
                
                // æ’­æ”¾è·³è·ƒéŸ³æ•ˆ
                soundEffects.jump();
            }
            
            // æ›´æ–°ç©å®¶åŠ¨ç”»çŠ¶æ€
            function updatePlayerAnimation() {
                player.animationFrame++;
                
                // æ ¹æ®ç‰©ç†çŠ¶æ€æ›´æ–°åŠ¨ç”»çŠ¶æ€
                if (player.isOnGround) {
                    if (Math.abs(player.velocityX) > 0.1) {
                        player.animationState = 'running';
                    } else {
                        player.animationState = 'idle';
                    }
                } else {
                    if (player.velocityY < 0) {
                        player.animationState = 'jumping';
                    } else {
                        player.animationState = 'falling';
                    }
                }
            }
            
            // ========== æ¸¸æˆä¸»å¾ªç¯ ==========
            
            // é”®ç›˜æ§åˆ¶
            const keys = {};
            
            function handleKeyDown(e) {
                keys[e.code] = true;
                
                if (e.code === 'Space' && gameRunning && !gamePaused) {
                    handlePlayerJump();
                }
                
                if (e.code === 'KeyP') {
                    pauseGame();
                }
            }
            
            function handleKeyUp(e) {
                keys[e.code] = false;
            }
            
            // æ›´æ–°ä¼Šçš„AI
            function updateEnemyAI() {
                // ä¼Šä¼šè·Ÿéšç©å®¶
                const distance = Math.abs(player.x - enemy.x);
                
                if (distance > 400) {
                    enemy.velocityX = player.x > enemy.x ? enemy.speed * 1.5 : -enemy.speed * 1.5;
                } else if (distance < 150) {
                    enemy.velocityX = player.x > enemy.x ? -enemy.speed * 0.7 : enemy.speed * 0.7;
                } else {
                    enemy.velocityX = player.x > enemy.x ? enemy.speed : -enemy.speed;
                }
                
                // ä¼Šæ”»å‡»
                enemy.attackCooldown--;
                if (enemy.attackCooldown <= 0 && Math.abs(player.x - enemy.x) < 500) {
                    const angle = Math.atan2(player.y - enemy.y, player.x - enemy.x);
                    const power = enemy.throwPower * (0.9 + Math.random() * 0.2);
                    
                    melons.push({
                        x: enemy.x,
						 y: enemy.y + enemy.height/2,
                        width: melonWidth,
                        height: melonHeight,
                        velocityX: Math.cos(angle) * power,
                        velocityY: Math.sin(angle) * power,
                        rotation: 0,
                        rotationSpeed: 0.1
                    });
                    
                    enemy.attackCooldown = enemy.attackInterval;
                }
            }
            
            function update() {
                if (gamePaused || !gameRunning) return;
                
                gameTime++;
                
                // æ›´æ–°ç©å®¶åŠ¨ç”»
                updatePlayerAnimation();
                
                // æ›´æ–°ç©å®¶æ— æ•Œæ—¶é—´
                if (player.invincible) {
                    player.invincibleTime--;
                    if (player.invincibleTime <= 0) {
                        player.invincible = false;
                    }
                }
                
                // æ›´æ–°æ‘„åƒæœºä½ç½®ï¼ˆè·Ÿéšç©å®¶ï¼‰
                cameraX = player.x - canvas.width * 0.3;
                cameraX = Math.max(0, cameraX);
                
                // æ›´æ–°ç©å®¶ç‰©ç†
                player.velocityY += gravity;
                player.y += player.velocityY;
                
                // ç©å®¶è¾“å…¥
                if (keys['ArrowLeft'] || keys['KeyA']) {
                    player.velocityX = -player.speed;
                    player.facingRight = false;
                } else if (keys['ArrowRight'] || keys['KeyD']) {
                    player.velocityX = player.speed;
                    player.facingRight = true;
                } else {
                    player.velocityX *= 0.8; // æ‘©æ“¦åŠ›
                }
                
                player.x += player.velocityX;
                
                // å¹³å°ç¢°æ’æ£€æµ‹
                player.isOnGround = false;
                for (const platform of platforms) {
                    if (player.x < platform.x + platform.width &&
                        player.x + player.width > platform.x &&
                        player.y + player.height > platform.y &&
                        player.y + player.height < platform.y + 20 &&
                        player.velocityY > 0) {
                        
                        player.y = platform.y - player.height;
                        player.velocityY = 0;
                        player.isOnGround = true;
                        break;
                    }
                }
                
                // åœ°é¢ç¢°æ’
                if (player.y >= canvas.height - groundHeight - player.height) {
                    player.y = canvas.height - groundHeight - player.height;
                    player.velocityY = 0;
                    player.isOnGround = true;
                }
                
                // æ‰è½æ£€æµ‹
                if (player.y > canvas.height) {
                    player.lives--;
                    if (player.lives <= 0) {
                        gameOver();
                        return;
                    } else {
                        player.x = Math.max(100, player.x - 300);
                        player.y = 300;
                        player.velocityY = 0;
                        player.invincible = true;
                        player.invincibleTime = 60;
                        soundEffects.hit();
                    }
                }
                
                // æ›´æ–°ç§»åŠ¨å¹³å°
                platforms.forEach(p => {
                    if (p.type === 'moving') {
                        p.x += p.moveSpeed * p.moveDirection;
                        if (p.x > p.originalX + p.moveRange || p.x < p.originalX - p.moveRange) {
                            p.moveDirection *= -1;
                        }
                    }
                });
                
                // æ›´æ–°ä¼Šçš„AI
                updateEnemyAI();
                
                // æ›´æ–°ä¼Šçš„ç‰©ç†
                enemy.velocityY += gravity;
                enemy.x += enemy.velocityX;
                enemy.y += enemy.velocityY;
                
                // ä¼Šçš„è¾¹ç•Œæ£€æŸ¥
                if (enemy.y >= canvas.height - groundHeight - enemy.height) {
                    enemy.y = canvas.height - groundHeight - enemy.height;
                    enemy.velocityY = 0;
                }
                
                // ç¡®ä¿ä¼Šåœ¨å±å¹•èŒƒå›´å†…
                if (enemy.x < cameraX) {
                    enemy.x = cameraX + 50;
                }
                if (enemy.x > cameraX + canvas.width - enemy.width) {
                    enemy.x = cameraX + canvas.width - enemy.width - 50;
                }
                
                // æ›´æ–°é¥¼å¹²
                for (let i = cookies.length - 1; i >= 0; i--) {
                    const cookie = cookies[i];
                    
                    // æ›´æ–°é¥¼å¹²æ—‹è½¬
                    cookie.rotation += cookie.rotationSpeed;
                    
                    // æ£€æµ‹é¥¼å¹²æ”¶é›†
                    if (!cookie.collected &&
                        cookie.x < player.x + player.width &&
                        cookie.x + cookie.width > player.x &&
                        cookie.y < player.y + player.height &&
                        cookie.y + cookie.height > player.y) {
                        
                        cookie.collected = true;
                        score += 50;
                        cookiesCollected++;
                        
                        // æ’­æ”¾æ”¶é›†éŸ³æ•ˆ
                        soundEffects.collect();
                        
                        // 0.5ç§’åç§»é™¤å·²æ”¶é›†çš„é¥¼å¹²
                        setTimeout(() => {
                            const index = cookies.indexOf(cookie);
                            if (index !== -1) {
                                cookies.splice(index, 1);
                            }
                        }, 500);
                    }
                }
                
                // æ›´æ–°ç“œæ¡
                for (let i = melons.length - 1; i >= 0; i--) {
                    const melon = melons[i];
                    
                    melon.velocityY += gravity * 0.3;
                    melon.x += melon.velocityX;
                    melon.y += melon.velocityY;
                    melon.rotation += melon.rotationSpeed;
                    
                    // ç¢°æ’æ£€æµ‹
                    if (!player.invincible &&
                        melon.x < player.x + player.width &&
                        melon.x + melon.width > player.x &&
                        melon.y < player.y + player.height &&
                        melon.y + melon.height > player.y) {
                        
                        player.lives--;
                        player.invincible = true;
                        player.invincibleTime = 120;
                        player.velocityX = (player.x < melon.x ? -8 : 8);
                        player.velocityY = -6;
                        melons.splice(i, 1);
                        
                        // æ’­æ”¾è¢«å‡»ä¸­éŸ³æ•ˆ
                        soundEffects.hit();
                        
                        if (player.lives <= 0) {
                            gameOver();
                            return;
                        }
                    }
                }
                
                // ç”Ÿæˆéšæœºé¥¼å¹²
                generateRandomCookie();
                
                // æ¸…ç†è¶…å‡ºå±å¹•çš„å¯¹è±¡å¹¶ç”Ÿæˆæ–°å†…å®¹
                cleanupOffscreenObjects();
                
                // æ›´æ–°åˆ†æ•°ï¼ˆæ ¹æ®ç§»åŠ¨è·ç¦»ï¼‰
                if (player.velocityX > 0) {
                    score += Math.floor(player.velocityX * 0.1);
                }
                
                // æ˜¾ç¤ºéšæœºå¯¹è¯æ¡†
                showRandomDialog();
                
                updateGameStats();
            }
            
            function draw() {
                // æ¸…é™¤ç”»å¸ƒ
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                // ç»˜åˆ¶èƒŒæ™¯
                const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
                gradient.addColorStop(0, '#87CEEB');
                gradient.addColorStop(1, '#98FB98');
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // ç»˜åˆ¶è¿œå¤„çš„äº‘
                ctx.fillStyle = 'rgba(255, 255, 255, 0.7)';
                for (let i = 0; i < 3; i++) {
                    const cloudX = (cameraX * 0.3 + i * 300) % 900 - 100;
                    const cloudY = 50 + i * 40;
                    
                    ctx.beginPath();
                    ctx.arc(cloudX, cloudY, 30, 0, Math.PI * 2);
                    ctx.arc(cloudX + 40, cloudY - 20, 40, 0, Math.PI * 2);
                    ctx.arc(cloudX + 80, cloudY, 30, 0, Math.PI * 2);
                    ctx.fill();
                }
                
                // ç»˜åˆ¶å¹³å°
                platforms.forEach(platform => {
                    const drawX = platform.x - cameraX;
                    if (drawX > -100 && drawX < canvas.width + 100) {
                        ctx.fillStyle = platform.color;
                        ctx.fillRect(drawX, platform.y, platform.width, platform.height);
                        
                        // å¹³å°è¾¹æ¡†
                        ctx.strokeStyle = '#34495e';
                        ctx.lineWidth = 2;
                        ctx.strokeRect(drawX, platform.y, platform.width, platform.height);
                        
                        // ç§»åŠ¨å¹³å°æ ‡è®°
                        if (platform.type === 'moving') {
                            ctx.fillStyle = 'white';
                            ctx.font = '12px Arial';
                            ctx.fillText('â†”', drawX + platform.width/2 - 6, platform.y + 15);
                        }
                    }
                });
                
                // ç»˜åˆ¶åœ°é¢
                ctx.fillStyle = '#27ae60';
                ctx.fillRect(0, canvas.height - groundHeight, canvas.width, groundHeight);
                
                // ç»˜åˆ¶é¥¼å¹²
                cookies.forEach(cookie => {
                    const cookieDrawX = cookie.x - cameraX;
                    if (cookieDrawX > -50 && cookieDrawX < canvas.width + 50) {
                        drawCookie(cookieDrawX, cookie.y, cookie.width, cookie.height, cookie.rotation, cookie.collected);
                    }
                });
                
               // ç»˜åˆ¶ç¾è§‚çš„ç©å®¶è§’è‰²
                const playerDrawX = player.x - cameraX;
                if (playerDrawX > -100 && playerDrawX < canvas.width + 100) {
                    drawBeautifulPlayer(
                        playerDrawX, 
                        player.y, 
                        player.width, 
                        player.height, 
                        player.facingRight, 
                        player.animationState
                    );
                }
                
                // ç»˜åˆ¶ç¾è§‚çš„ä¼Šè§’è‰²
                const enemyDrawX = enemy.x - cameraX;
                if (enemyDrawX > -100 && enemyDrawX < canvas.width + 100) {
                    drawBeautifulEnemy(
                        enemyDrawX, 
                        enemy.y, 
                        enemy.width, 
                        enemy.height
                    );
                }
                
                // ç»˜åˆ¶ç“œæ¡
                melons.forEach(melon => {
                    const melonDrawX = melon.x - cameraX;
                    if (melonDrawX > -50 && melonDrawX < canvas.width + 50) {
                        ctx.fillStyle = '#ffa502';
                        ctx.save();
                        ctx.translate(melonDrawX + melon.width/2, melon.y + melon.height/2);
                        ctx.rotate(melon.rotation);
                        ctx.fillRect(-melon.width/2, -melon.height/2, melon.width, melon.height);
                        ctx.restore();
                    }
                });
                
                // ç»˜åˆ¶UI
                // åˆ†æ•°é¢æ¿
                ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';
                ctx.fillRect(10, 10, 220, 120);
                ctx.fillStyle = 'white';
                ctx.font = 'bold 18px Arial';
                ctx.fillText(`åˆ†æ•°: ${score}`, 20, 35);
                ctx.fillText(`æœ€é«˜åˆ†: ${highscore}`, 20, 60);
                ctx.fillText(`æ”¶é›†é¥¼å¹²: ${cookiesCollected}`, 20, 85);
                ctx.fillText(`ç”Ÿå‘½: ${player.lives}`, 20, 110);
                
                // æ¸¸æˆçŠ¶æ€
                if (gamePaused) {
                    ctx.fillStyle = 'rgba(0, 0, 0, 0.8)';
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                    ctx.fillStyle = '#e86a92';
                    ctx.font = 'bold 40px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText('æ¸¸æˆæš‚åœ', canvas.width/2, canvas.height/2 - 20);
                    ctx.font = '20px Arial';
                    ctx.fillText('æŒ‰Pé”®ç»§ç»­', canvas.width/2, canvas.height/2 + 20);
                    ctx.textAlign = 'left';
                }
                
                if (!gameRunning && score > 0) {
                    ctx.fillStyle = 'rgba(0, 0, 0, 0.8)';
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                    ctx.fillStyle = '#ff6b81';
                    ctx.font = 'bold 40px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText('æ¸¸æˆç»“æŸ!', canvas.width/2, canvas.height/2 - 60);
                    ctx.fillStyle = '#e86a92';
                    ctx.font = '30px Arial';
                    ctx.fillText(`æœ€ç»ˆåˆ†æ•°: ${score}`, canvas.width/2, canvas.height/2 - 10);
                    ctx.fillText(`æ”¶é›†é¥¼å¹²: ${cookiesCollected}`, canvas.width/2, canvas.height/2 + 30);
                    
                    if (score > highscore) {
                        ctx.fillStyle = '#ffa502';
                        ctx.font = 'bold 25px Arial';
                        ctx.fillText('ğŸ‰ æ–°çºªå½•ï¼', canvas.width/2, canvas.height/2 + 70);
                    }
                    
                    ctx.fillStyle = 'white';
                    ctx.font = '20px Arial';
                    ctx.fillText('ç‚¹å‡»"é‡æ–°å¼€å§‹"å†ç©ä¸€æ¬¡', canvas.width/2, canvas.height/2 + 110);
                    ctx.textAlign = 'left';
                }
            }
            
            function gameLoopFunction() {
                update();
                draw();
                if (gameRunning) {
                    gameLoop = requestAnimationFrame(gameLoopFunction);
                }
            }
            
            function startGame() {
                if (gameRunning) return;
                
                // é‡ç½®æ¸¸æˆçŠ¶æ€
                gameRunning = true;
                gamePaused = false;
                gameTime = 0;
                score = 0;
                cookiesCollected = 0;
                cameraX = 0;
                dialogTimer = 0;
                dialogIndex = 0;
                
                // é‡ç½®ç©å®¶
                player.x = 100;
                player.y = 300;
                player.velocityX = 0;
                player.velocityY = 0;
                player.lives = 3;
                player.invincible = false;
                player.invincibleTime = 0;
                player.animationState = 'idle';
                player.animationFrame = 0;
                
                // é‡ç½®ä¼Š
                enemy.x = 500;
                enemy.y = 300;
                enemy.velocityX = 0;
                enemy.velocityY = 0;
                enemy.attackCooldown = 60;
                
                // æ¸…ç©ºé¥¼å¹²å’Œç“œæ¡
                cookies.length = 0;
                melons.length = 0;
                
                // åˆå§‹åŒ–éŸ³æ•ˆ
                initSoundEffects();
                
                // åˆå§‹åŒ–å¹³å°
                initPlatforms();
                
                // æ›´æ–°UI
                statusEl.textContent = "æ¸¸æˆä¸­";
                startBtn.textContent = "é‡æ–°å¼€å§‹";
                updateGameStats();
                
                // éšè—å¯¹è¯æ¡†
                document.getElementById('game-dialog').style.display = 'none';
                
                // å¼€å§‹æ¸¸æˆå¾ªç¯
                gameLoopFunction();
            }
            
            function pauseGame() {
                if (!gameRunning) return;
                
                gamePaused = !gamePaused;
                pauseBtn.textContent = gamePaused ? "ç»§ç»­æ¸¸æˆ" : "æš‚åœæ¸¸æˆ";
                statusEl.textContent = gamePaused ? "å·²æš‚åœ" : "æ¸¸æˆä¸­";
                
                if (!gamePaused) {
                    gameLoopFunction();
                }
            }
            
            function restartGame() {
                if (gameLoop) {
                    cancelAnimationFrame(gameLoop);
                }
                startGame();
            }
            
            function gameOver() {
                gameRunning = false;
                statusEl.textContent = "æ¸¸æˆç»“æŸ";
                
                if (score > highscore) {
                    highscore = score;
                    localStorage.setItem('parkourHighscore', highscore.toString());
                    highscoreEl.textContent = highscore;
                }
                
                draw();
            }
            
            function updateGameStats() {
                scoreEl.textContent = score;
                cookiesEl.textContent = cookiesCollected;
                statusEl.textContent = gameRunning ? "æ¸¸æˆä¸­" : "æ¸¸æˆç»“æŸ";
            }
            
            // ========== åˆå§‹åŒ–æ¸¸æˆ ==========
            function initGame() {
                // è®¾ç½®é”®ç›˜äº‹ä»¶
                document.addEventListener('keydown', handleKeyDown);
                document.addEventListener('keyup', handleKeyUp);
                
                // æŒ‰é’®äº‹ä»¶
                startBtn.addEventListener('click', startGame);
                pauseBtn.addEventListener('click', pauseGame);
                restartBtn.addEventListener('click', restartGame);
                
                // è§¦æ‘¸æ§åˆ¶
                canvas.addEventListener('touchstart', (e) => {
                    e.preventDefault();
                    const touchX = e.touches[0].clientX - canvas.getBoundingClientRect().left;
                    
                    if (touchX < canvas.width / 2) {
                        keys['ArrowLeft'] = true;
                        keys['ArrowRight'] = false;
                    } else {
                        keys['ArrowRight'] = true;
                        keys['ArrowLeft'] = false;
                    }
                    
                    // è·³è·ƒï¼ˆè§¦æ‘¸å±å¹•ä»»æ„ä½ç½®ï¼‰
                    if (gameRunning && !gamePaused) {
                        handlePlayerJump();
                    }
                });
                
                canvas.addEventListener('touchend', (e) => {
                    e.preventDefault();
                    keys['ArrowLeft'] = false;
                    keys['ArrowRight'] = false;
                });
                
                // é¼ æ ‡æ§åˆ¶
                canvas.addEventListener('mousedown', (e) => {
                    const mouseX = e.clientX - canvas.getBoundingClientRect().left;
                    
                    if (mouseX < canvas.width / 2) {
                        keys['ArrowLeft'] = true;
                        keys['ArrowRight'] = false;
                    } else {
                        keys['ArrowRight'] = true;
                        keys['ArrowLeft'] = false;
                    }
                    
                    // è·³è·ƒ
                    if (gameRunning && !gamePaused) {
                        handlePlayerJump();
                    }
                });
                
                canvas.addEventListener('mouseup', () => {
                    keys['ArrowLeft'] = false;
                    keys['ArrowRight'] = false;
                });
                
                // åˆå§‹åŒ–å¹³å°
                initPlatforms();
                draw();
                
                console.log('æ”¹è¿›ç‰ˆè·‘é…·æ¸¸æˆåˆå§‹åŒ–å®Œæˆ');
                console.log('æ§åˆ¶è¯´æ˜ï¼š');
                console.log('- æ–¹å‘é”®/ADï¼šå·¦å³ç§»åŠ¨');
                console.log('- ç©ºæ ¼é”®ï¼šæ— é™è·³è·ƒï¼ˆå¯ä»¥ä¸€ç›´æŒ‰ç©ºæ ¼åœ¨ç©ºä¸­è¿ç»­è·³è·ƒï¼‰');
                console.log('- Pé”®ï¼šæš‚åœ/ç»§ç»­');
                console.log('- æ”¶é›†é‡‘è‰²é¥¼å¹²è·å¾—50åˆ†');
                console.log('- æ¸¸æˆåœºæ™¯æ— é™ç”Ÿæˆï¼Œå°½é‡æ”¶é›†æ›´å¤šé¥¼å¹²ï¼');
                console.log('- åŸ‹å’Œä¼Šåœ¨è¿½é€è¿‡ç¨‹ä¸­ä¼šæœ‰ç”œèœœå¯¹è¯ï¼');
            }
            
            // å¯åŠ¨æ¸¸æˆåˆå§‹åŒ–
            initGame();
        }
    });
    </script>
</body>
</html>
